/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pdfjs-dist/image_decoders/pdf.image_decoders",[],e):"object"==typeof exports?exports["pdfjs-dist/image_decoders/pdf.image_decoders"]=e():t["pdfjs-dist/image_decoders/pdf.image_decoders"]=t.pdfjsImageDecoders=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getVerbosityLevel",{enumerable:!0,get:function(){return n.getVerbosityLevel}}),Object.defineProperty(e,"setVerbosityLevel",{enumerable:!0,get:function(){return n.setVerbosityLevel}}),Object.defineProperty(e,"Jbig2mage",{enumerable:!0,get:function(){return i.Jbig2mage}}),Object.defineProperty(e,"JpegImage",{enumerable:!0,get:function(){return o.JpegImage}}),Object.defineProperty(e,"JpxImage",{enumerable:!0,get:function(){return a.JpxImage}});var n=r(1),i=r(186),o=r(190),a=r(191)},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=k,e.arraysToBytes=function(t){var e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];for(var r=0,n=0;n<e;n++)r+=k(t[n]);for(var i=0,o=new Uint8Array(r),a=0;a<e;a++){var s=t[a];s instanceof Uint8Array||(s="string"==typeof s?C(s):new Uint8Array(s));var c=s.byteLength;o.set(s,i),i+=c}return o},e.assert=v,e.bytesToString=function(t){v(null!==t&&"object"===i(t)&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length;if(e<8192)return String.fromCharCode.apply(null,t);for(var r=[],n=0;n<e;n+=8192){var o=Math.min(n+8192,e),a=t.subarray(n,o);r.push(String.fromCharCode.apply(null,a))}return r.join("")},e.createPromiseCapability=function(){var t=Object.create(null),e=!1;return Object.defineProperty(t,"settled",{get:function(){return e}}),t.promise=new Promise((function(r,n){t.resolve=function(t){e=!0,r(t)},t.reject=function(t){e=!0,n(t)}})),t},e.getVerbosityLevel=function(){return h},e.info=function(t){h>=l.INFOS&&console.log("Info: ".concat(t))},e.isArrayBuffer=function(t){return"object"===i(t)&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;return t.every((function(t,r){return t===e[r]}))},e.isBool=function(t){return"boolean"==typeof t},e.isEmptyObj=function(t){for(var e in t)return!1;return!0},e.isNum=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSameOrigin=function(t,e){var r;try{if(!(r=new URL(t)).origin||"null"===r.origin)return!1}catch(t){return!1}var n=new URL(e,r);return r.origin===n.origin},e.createValidAbsoluteUrl=function(t,e){if(!t)return null;try{var r=e?new URL(t,e):new URL(t);if(function(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(t){}return null},e.removeNullCharacters=function(t){if("string"!=typeof t)return p("The argument for removeNullCharacters must be a string."),t;return t.replace(P,"")},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(h=t)},e.shadow=g,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=C,e.stringToPDFString=function(t){var e=t.length,r=[];if("þ"===t[0]&&"ÿ"===t[1])for(var n=2;n<e;n+=2)r.push(String.fromCharCode(t.charCodeAt(n)<<8|t.charCodeAt(n+1)));else if("ÿ"===t[0]&&"þ"===t[1])for(var i=2;i<e;i+=2)r.push(String.fromCharCode(t.charCodeAt(i+1)<<8|t.charCodeAt(i)));else for(var o=0;o<e;++o){var a=R[t.charCodeAt(o)];r.push(a?String.fromCharCode(a):t.charAt(o))}return r.join("")},e.stringToUTF8String=function(t){return decodeURIComponent(escape(t))},e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=p,e.unreachable=d,e.IsEvalSupportedCached=e.IsLittleEndianCached=e.createObjectURL=e.FormatError=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.MissingPDFException=e.InvalidPDFException=e.AbortException=e.CMapCompressionType=e.ImageKind=e.FontType=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.UNSUPPORTED_FEATURES=e.VerbosityLevel=e.OPS=e.IDENTITY_MATRIX=e.FONT_IDENTITY_MATRIX=e.BaseException=void 0,r(2);e.IDENTITY_MATRIX=[1,0,0,1,0,0];e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReplyType={GROUP:"Group",REPLY:"R"};e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var l={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=l;e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"};e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var h=l.WARNINGS;function p(t){h>=l.WARNINGS&&console.log("Warning: ".concat(t))}function d(t){throw new Error(t)}function v(t,e){t||d(e)}function g(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}var y=function(){function t(e){this.constructor===t&&d("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}return t.prototype=new Error,t.constructor=t,t}();e.BaseException=y;var m=function(t){a(r,t);var e=c(r);function r(t,n){var i;return o(this,r),(i=e.call(this,t)).code=n,i}return r}(y);e.PasswordException=m;var b=function(t){a(r,t);var e=c(r);function r(t,n){var i;return o(this,r),(i=e.call(this,t)).details=n,i}return r}(y);e.UnknownErrorException=b;var x=function(t){a(r,t);var e=c(r);function r(){return o(this,r),e.apply(this,arguments)}return r}(y);e.InvalidPDFException=x;var w=function(t){a(r,t);var e=c(r);function r(){return o(this,r),e.apply(this,arguments)}return r}(y);e.MissingPDFException=w;var S=function(t){a(r,t);var e=c(r);function r(t,n){var i;return o(this,r),(i=e.call(this,t)).status=n,i}return r}(y);e.UnexpectedResponseException=S;var T=function(t){a(r,t);var e=c(r);function r(){return o(this,r),e.apply(this,arguments)}return r}(y);e.FormatError=T;var O=function(t){a(r,t);var e=c(r);function r(){return o(this,r),e.apply(this,arguments)}return r}(y);e.AbortException=O;var P=/\x00/g;function C(t){v("string"==typeof t,"Invalid argument for stringToBytes");for(var e=t.length,r=new Uint8Array(e),n=0;n<e;++n)r[n]=255&t.charCodeAt(n);return r}function k(t){return void 0!==t.length?t.length:(v(void 0!==t.byteLength,"arrayByteLength - invalid argument."),t.byteLength)}var I={get value(){return g(this,"value",((t=new Uint8Array(4))[0]=1,1===new Uint32Array(t.buffer,0,1)[0]));var t}};e.IsLittleEndianCached=I;var A={get value(){return g(this,"value",function(){try{return new Function(""),!0}catch(t){return!1}}())}};e.IsEvalSupportedCached=A;var E=["rgb(",0,",",0,",",0,")"],_=function(){function t(){o(this,t)}var e,r,i;return e=t,i=[{key:"makeCssRgb",value:function(t,e,r){return E[1]=t,E[3]=e,E[5]=r,E.join("")}},{key:"transform",value:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}},{key:"applyTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}},{key:"applyInverseTransform",value:function(t,e){var r=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/r,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/r]}},{key:"getAxialAlignedBoundingBox",value:function(e,r){var n=t.applyTransform(e,r),i=t.applyTransform(e.slice(2,4),r),o=t.applyTransform([e[0],e[3]],r),a=t.applyTransform([e[2],e[1]],r);return[Math.min(n[0],i[0],o[0],a[0]),Math.min(n[1],i[1],o[1],a[1]),Math.max(n[0],i[0],o[0],a[0]),Math.max(n[1],i[1],o[1],a[1])]}},{key:"inverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}},{key:"apply3dTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}},{key:"singularValueDecompose2dScale",value:function(t){var e=[t[0],t[2],t[1],t[3]],r=t[0]*e[0]+t[1]*e[2],n=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(r+o)/2,s=Math.sqrt((r+o)*(r+o)-4*(r*o-i*n))/2,c=a+s||1,u=a-s||1;return[Math.sqrt(c),Math.sqrt(u)]}},{key:"normalizeRect",value:function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}},{key:"intersect",value:function(e,r){function n(t,e){return t-e}var i=[e[0],e[2],r[0],r[2]].sort(n),o=[e[1],e[3],r[1],r[3]].sort(n),a=[];return e=t.normalizeRect(e),r=t.normalizeRect(r),i[0]===e[0]&&i[1]===r[0]||i[0]===r[0]&&i[1]===e[0]?(a[0]=i[1],a[2]=i[2],o[0]===e[1]&&o[1]===r[1]||o[0]===r[1]&&o[1]===e[1]?(a[1]=o[1],a[3]=o[2],a):null):null}}],(r=null)&&n(e.prototype,r),i&&n(e,i),t}();e.Util=_;var R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var L,M=(L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r&&URL.createObjectURL){var n=new Blob([t],{type:e});return URL.createObjectURL(n)}for(var i="data:".concat(e,";base64,"),o=0,a=t.length;o<a;o+=3){var s=255&t[o],c=255&t[o+1],u=255&t[o+2],f=s>>2,l=(3&s)<<4|c>>4,h=o+1<a?(15&c)<<2|u>>6:64,p=o+2<a?63&u:64;i+=L[f]+L[l]+L[h]+L[p]}return i});e.createObjectURL=M},function(t,e,r){"use strict";var n=r(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked){"undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=r(4)),globalThis._pdfjsCompatibilityChecked=!0;var o="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document)),a="undefined"!=typeof navigator&&navigator.userAgent||"",s=/Trident/.test(a);!globalThis.btoa&&n.isNodeJS&&(globalThis.btoa=function(t){return Buffer.from(t,"binary").toString("base64")}),!globalThis.atob&&n.isNodeJS&&(globalThis.atob=function(t){return Buffer.from(t,"base64").toString("binary")}),o&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(o&&!n.isNodeJS){var t=document.createElement("div");if(t.classList.add("testOne","testTwo"),!0!==t.classList.contains("testOne")||!0!==t.classList.contains("testTwo")){var e=DOMTokenList.prototype.add,r=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=o[i];e.call(this,a)}},DOMTokenList.prototype.remove=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,o=e;i<o.length;i++){var a=o[i];r.call(this,a)}}}}}(),o&&!n.isNodeJS&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(t){var e=arguments.length>1?!!arguments[1]:!this.contains(t);return this[e?"add":"remove"](t),e}),function(){if(o&&s){var t=window.history.pushState,e=window.history.replaceState;window.history.pushState=function(e,r,n){var i=void 0===n?[e,r]:[e,r,n];t.apply(this,i)},window.history.replaceState=function(t,r,n){var i=void 0===n?[t,r]:[t,r,n];e.apply(this,i)}}}(),String.prototype.startsWith||r(62),String.prototype.endsWith||r(72),String.prototype.includes||r(74),Array.prototype.includes||r(76),Array.from||r(83),Object.assign||r(106),Math.log2||(Math.log2=r(109)),Number.isNaN||(Number.isNaN=r(111)),Number.isInteger||(Number.isInteger=r(113)),Uint8Array.prototype.slice||r(116),globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=r(123)),globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=r(138)),globalThis.WeakMap||(globalThis.WeakMap=r(140)),globalThis.WeakSet||(globalThis.WeakSet=r(147)),String.prototype.codePointAt||r(149),String.fromCodePoint||(String.fromCodePoint=r(151)),globalThis.Symbol||r(153),String.prototype.padStart||r(176),String.prototype.padEnd||r(181),Object.values||(Object.values=r(183))}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;var i="object"===("undefined"==typeof process?"undefined":n(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;e.isNodeJS=i},function(t,e,r){r(5),t.exports=r(7)},function(t,e,r){r(6)({global:!0},{globalThis:r(7)})},function(t,e,r){var n=r(7),i=r(8).f,o=r(41),a=r(44),s=r(35),c=r(51),u=r(61);t.exports=function(t,e){var r,f,l,h,p,d=t.target,v=t.global,g=t.stat;if(r=v?n:g?n[d]||s(d,{}):(n[d]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=i(r,f))&&p.value:r[f],!u(v?f:d+(g?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;c(h,l)}(t.sham||l&&l.sham)&&o(h,"sham",!0),a(r,f,h,t)}}},function(t,e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(t,e,r){var n=r(9),i=r(11),o=r(12),a=r(13),s=r(17),c=r(36),u=r(39),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=a(t),e=s(e),u)try{return f(t,e)}catch(t){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,r){var n=r(10);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(14),i=r(16);t.exports=function(t){return n(i(t))}},function(t,e,r){var n=r(10),i=r(15),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,r){var n=r(18),i=r(21);t.exports=function(t){var e=n(t,"string");return i(e)?e:String(e)}},function(t,e,r){var n=r(19),i=r(21),o=r(27),a=r(30),s=r(31)("toPrimitive");t.exports=function(t,e){if(!n(t)||i(t))return t;var r,c=o(t,s);if(c){if(void 0===e&&(e="default"),r=c.call(t,e),!n(r)||i(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},function(t,e,r){var n=r(20);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,r){var n=r(20),i=r(22),o=r(23);t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return n(e)&&Object(t)instanceof e}},function(t,e,r){var n=r(7),i=r(20),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t]):n[t]&&n[t][e]}},function(t,e,r){var n=r(24);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var n=r(25),i=r(10);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(t,e,r){var n,i,o=r(7),a=r(26),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,f=u&&u.v8;f?i=(n=f.split("."))[0]<4?1:n[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},function(t,e,r){var n=r(22);t.exports=n("navigator","userAgent")||""},function(t,e,r){var n=r(28);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},function(t,e,r){var n=r(20),i=r(29);t.exports=function(t){if(n(t))return t;throw TypeError(i(t)+" is not a function")}},function(t,e){t.exports=function(t){try{return String(t)}catch(t){return"Object"}}},function(t,e,r){var n=r(20),i=r(19);t.exports=function(t,e){var r,o;if("string"===e&&n(r=t.toString)&&!i(o=r.call(t)))return o;if(n(r=t.valueOf)&&!i(o=r.call(t)))return o;if("string"!==e&&n(r=t.toString)&&!i(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(7),i=r(32),o=r(36),a=r(38),s=r(24),c=r(23),u=i("wks"),f=n.Symbol,l=c?f:f&&f.withoutSetter||a;t.exports=function(t){return o(u,t)&&(s||"string"==typeof u[t])||(s&&o(f,t)?u[t]=f[t]:u[t]=l("Symbol."+t)),u[t]}},function(t,e,r){var n=r(33),i=r(34);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.0",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,r){var n=r(7),i=r(35),o=n["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,r){var n=r(7);t.exports=function(t,e){try{Object.defineProperty(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},function(t,e,r){var n=r(37),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(n(t),e)}},function(t,e,r){var n=r(16);t.exports=function(t){return Object(n(t))}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},function(t,e,r){var n=r(9),i=r(10),o=r(40);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(7),i=r(19),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,r){var n=r(9),i=r(42),o=r(12);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(9),i=r(39),o=r(43),a=r(17),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e),o(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(19);t.exports=function(t){if(n(t))return t;throw TypeError(String(t)+" is not an object")}},function(t,e,r){var n=r(7),i=r(20),o=r(36),a=r(41),s=r(35),c=r(45),u=r(46),f=r(50).CONFIGURABLE,l=u.get,h=u.enforce,p=String(String).split("String");(t.exports=function(t,e,r,c){var u,l=!!c&&!!c.unsafe,d=!!c&&!!c.enumerable,v=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:e;i(r)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(r,"name")||f&&r.name!==g)&&a(r,"name",g),(u=h(r)).source||(u.source=p.join("string"==typeof g?g:""))),t!==n?(l?!v&&t[e]&&(d=!0):delete t[e],d?t[e]=r:a(t,e,r)):d?t[e]=r:s(e,r)})(Function.prototype,"toString",(function(){return i(this)&&l(this).source||c(this)}))},function(t,e,r){var n=r(20),i=r(34),o=Function.toString;n(i.inspectSource)||(i.inspectSource=function(t){return o.call(t)}),t.exports=i.inspectSource},function(t,e,r){var n,i,o,a=r(47),s=r(7),c=r(19),u=r(41),f=r(36),l=r(34),h=r(48),p=r(49),d=s.WeakMap;if(a||l.state){var v=l.state||(l.state=new d),g=v.get,y=v.has,m=v.set;n=function(t,e){if(y.call(v,t))throw new TypeError("Object already initialized");return e.facade=t,m.call(v,t,e),e},i=function(t){return g.call(v,t)||{}},o=function(t){return y.call(v,t)}}else{var b=h("state");p[b]=!0,n=function(t,e){if(f(t,b))throw new TypeError("Object already initialized");return e.facade=t,u(t,b,e),e},i=function(t){return f(t,b)?t[b]:{}},o=function(t){return f(t,b)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){var n=r(7),i=r(20),o=r(45),a=n.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},function(t,e,r){var n=r(32),i=r(38),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports={}},function(t,e,r){var n=r(9),i=r(36),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},function(t,e,r){var n=r(36),i=r(52),o=r(8),a=r(42);t.exports=function(t,e){for(var r=i(e),s=a.f,c=o.f,u=0;u<r.length;u++){var f=r[u];n(t,f)||s(t,f,c(e,f))}}},function(t,e,r){var n=r(22),i=r(53),o=r(60),a=r(43);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},function(t,e,r){var n=r(54),i=r(59).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){var n=r(36),i=r(13),o=r(55).indexOf,a=r(49);t.exports=function(t,e){var r,s=i(t),c=0,u=[];for(r in s)!n(a,r)&&n(s,r)&&u.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~o(u,r)||u.push(r));return u}},function(t,e,r){var n=r(13),i=r(56),o=r(58),a=function(t){return function(e,r,a){var s,c=n(e),u=i(c.length),f=o(a,u);if(t&&r!=r){for(;u>f;)if((s=c[f++])!=s)return!0}else for(;u>f;f++)if((t||f in c)&&c[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,r){var n=r(57),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(57),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(10),i=r(20),o=/#|\.prototype\./,a=function(t,e){var r=c[s(t)];return r==f||r!=u&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",f=a.POLYFILL="P";t.exports=a},function(t,e,r){r(63);var n=r(70);t.exports=n("String","startsWith")},function(t,e,r){"use strict";var n,i=r(6),o=r(8).f,a=r(56),s=r(64),c=r(67),u=r(16),f=r(69),l=r(33),h="".startsWith,p=Math.min,d=f("startsWith");i({target:"String",proto:!0,forced:!!(l||d||(n=o(String.prototype,"startsWith"),!n||n.writable))&&!d},{startsWith:function(t){var e=s(u(this));c(t);var r=a(p(arguments.length>1?arguments[1]:void 0,e.length)),n=s(t);return h?h.call(e,n,r):e.slice(r,r+n.length)===n}})},function(t,e,r){var n=r(65);t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},function(t,e,r){var n=r(66),i=r(20),o=r(15),a=r(31)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?r:s?o(e):"Object"==(n=o(e))&&i(e.callee)?"Arguments":n}},function(t,e,r){var n={};n[r(31)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n=r(68);t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,r){var n=r(19),i=r(15),o=r(31)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,r){var n=r(31)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,r){var n=r(7),i=r(71),o=Function.call;t.exports=function(t,e,r){return i(o,n[t].prototype[e],r)}},function(t,e,r){var n=r(28);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){r(73);var n=r(70);t.exports=n("String","endsWith")},function(t,e,r){"use strict";var n,i=r(6),o=r(8).f,a=r(56),s=r(64),c=r(67),u=r(16),f=r(69),l=r(33),h="".endsWith,p=Math.min,d=f("endsWith");i({target:"String",proto:!0,forced:!!(l||d||(n=o(String.prototype,"endsWith"),!n||n.writable))&&!d},{endsWith:function(t){var e=s(u(this));c(t);var r=arguments.length>1?arguments[1]:void 0,n=a(e.length),i=void 0===r?n:p(a(r),n),o=s(t);return h?h.call(e,o,i):e.slice(i-o.length,i)===o}})},function(t,e,r){r(75);var n=r(70);t.exports=n("String","includes")},function(t,e,r){"use strict";var n=r(6),i=r(67),o=r(16),a=r(64);n({target:"String",proto:!0,forced:!r(69)("includes")},{includes:function(t){return!!~a(o(this)).indexOf(a(i(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){r(77);var n=r(70);t.exports=n("Array","includes")},function(t,e,r){"use strict";var n=r(6),i=r(55).includes,o=r(78);n({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,r){var n=r(31),i=r(79),o=r(42),a=n("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e,r){var n,i=r(43),o=r(80),a=r(59),s=r(49),c=r(82),u=r(40),f=r(48),l=f("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;v="undefined"!=typeof document?document.domain&&n?d(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F):d(n);for(var r=a.length;r--;)delete v.prototype[a[r]];return v()};s[l]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(h.prototype=i(t),r=new h,h.prototype=null,r[l]=t):r=v(),void 0===e?r:o(r,e)}},function(t,e,r){var n=r(9),i=r(42),o=r(43),a=r(81);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var r,n=a(e),s=n.length,c=0;s>c;)i.f(t,r=n[c++],e[r]);return t}},function(t,e,r){var n=r(54),i=r(59);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(22);t.exports=n("document","documentElement")},function(t,e,r){r(84),r(95);var n=r(105);t.exports=n.Array.from},function(t,e,r){"use strict";var n=r(85).charAt,i=r(64),o=r(46),a=r(86),s=o.set,c=o.getterFor("String Iterator");a(String,"String",(function(t){s(this,{type:"String Iterator",string:i(t),index:0})}),(function(){var t,e=c(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,r){var n=r(57),i=r(64),o=r(16),a=function(t){return function(e,r){var a,s,c=i(o(e)),u=n(r),f=c.length;return u<0||u>=f?t?"":void 0:(a=c.charCodeAt(u))<55296||a>56319||u+1===f||(s=c.charCodeAt(u+1))<56320||s>57343?t?c.charAt(u):a:t?c.slice(u,u+2):s-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},function(t,e,r){"use strict";var n=r(6),i=r(33),o=r(50),a=r(20),s=r(87),c=r(89),u=r(93),f=r(91),l=r(41),h=r(44),p=r(31),d=r(92),v=r(88),g=o.PROPER,y=o.CONFIGURABLE,m=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,x=p("iterator"),w=function(){return this};t.exports=function(t,e,r,o,p,v,S){s(r,e,o);var T,O,P,C=function(t){if(t===p&&_)return _;if(!b&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},k=e+" Iterator",I=!1,A=t.prototype,E=A[x]||A["@@iterator"]||p&&A[p],_=!b&&E||C(p),R="Array"==e&&A.entries||E;if(R&&(T=c(R.call(new t)))!==Object.prototype&&T.next&&(i||c(T)===m||(u?u(T,m):a(T[x])||h(T,x,w)),f(T,k,!0,!0),i&&(d[k]=w)),g&&"values"==p&&E&&"values"!==E.name&&(!i&&y?l(A,"name","values"):(I=!0,_=function(){return E.call(this)})),p)if(O={values:C("values"),keys:v?_:C("keys"),entries:C("entries")},S)for(P in O)(b||I||!(P in A))&&h(A,P,O[P]);else n({target:e,proto:!0,forced:b||I},O);return i&&!S||A[x]===_||h(A,x,_,{name:p}),d[e]=_,O}},function(t,e,r){"use strict";var n=r(88).IteratorPrototype,i=r(79),o=r(12),a=r(91),s=r(92),c=function(){return this};t.exports=function(t,e,r){var u=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),a(t,u,!1,!0),s[u]=c,t}},function(t,e,r){"use strict";var n,i,o,a=r(10),s=r(20),c=r(79),u=r(89),f=r(44),l=r(31),h=r(33),p=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(n=i):d=!0),null==n||a((function(){var t={};return n[p].call(t)!==t}))?n={}:h&&(n=c(n)),s(n[p])||f(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},function(t,e,r){var n=r(36),i=r(20),o=r(37),a=r(48),s=r(90),c=a("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){var e=o(t);if(n(e,c))return e[c];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof Object?u:null}},function(t,e,r){var n=r(10);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,r){var n=r(42).f,i=r(36),o=r(31)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,r){var n=r(43),i=r(94);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},function(t,e,r){var n=r(20);t.exports=function(t){if("object"==typeof t||n(t))return t;throw TypeError("Can't set "+String(t)+" as a prototype")}},function(t,e,r){var n=r(6),i=r(96);n({target:"Array",stat:!0,forced:!r(104)((function(t){Array.from(t)}))},{from:i})},function(t,e,r){"use strict";var n=r(71),i=r(37),o=r(97),a=r(99),s=r(100),c=r(56),u=r(101),f=r(102),l=r(103);t.exports=function(t){var e=i(t),r=s(this),h=arguments.length,p=h>1?arguments[1]:void 0,d=void 0!==p;d&&(p=n(p,h>2?arguments[2]:void 0,2));var v,g,y,m,b,x,w=l(e),S=0;if(!w||this==Array&&a(w))for(v=c(e.length),g=r?new this(v):Array(v);v>S;S++)x=d?p(e[S],S):e[S],u(g,S,x);else for(b=(m=f(e,w)).next,g=r?new this:[];!(y=b.call(m)).done;S++)x=d?o(m,p,[y.value,S],!0):y.value,u(g,S,x);return g.length=S,g}},function(t,e,r){var n=r(43),i=r(98);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){i(t,"throw",e)}}},function(t,e,r){var n=r(43),i=r(27);t.exports=function(t,e,r){var o,a;n(t);try{if(!(o=i(t,"return"))){if("throw"===e)throw r;return r}o=o.call(t)}catch(t){a=!0,o=t}if("throw"===e)throw r;if(a)throw o;return n(o),r}},function(t,e,r){var n=r(31),i=r(92),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,r){var n=r(10),i=r(20),o=r(65),a=r(22),s=r(45),c=[],u=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,l=f.exec,h=!f.exec((function(){})),p=function(t){if(!i(t))return!1;try{return u(Object,c,t),!0}catch(t){return!1}};t.exports=!u||n((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?function(t){if(!i(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!l.call(f,s(t))}:p},function(t,e,r){"use strict";var n=r(17),i=r(42),o=r(12);t.exports=function(t,e,r){var a=n(e);a in t?i.f(t,a,o(0,r)):t[a]=r}},function(t,e,r){var n=r(28),i=r(43),o=r(103);t.exports=function(t,e){var r=arguments.length<2?o(t):e;if(n(r))return i(r.call(t));throw TypeError(String(t)+" is not iterable")}},function(t,e,r){var n=r(65),i=r(27),o=r(92),a=r(31)("iterator");t.exports=function(t){if(null!=t)return i(t,a)||i(t,"@@iterator")||o[n(t)]}},function(t,e,r){var n=r(31)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},function(t,e,r){var n=r(7);t.exports=n},function(t,e,r){r(107);var n=r(105);t.exports=n.Object.assign},function(t,e,r){var n=r(6),i=r(108);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,r){"use strict";var n=r(9),i=r(10),o=r(81),a=r(60),s=r(11),c=r(37),u=r(14),f=Object.assign,l=Object.defineProperty;t.exports=!f||i((function(){if(n&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[r]||"abcdefghijklmnopqrst"!=o(f({},e)).join("")}))?function(t,e){for(var r=c(t),i=arguments.length,f=1,l=a.f,h=s.f;i>f;)for(var p,d=u(arguments[f++]),v=l?o(d).concat(l(d)):o(d),g=v.length,y=0;g>y;)p=v[y++],n&&!h.call(d,p)||(r[p]=d[p]);return r}:f},function(t,e,r){r(110);var n=r(105);t.exports=n.Math.log2},function(t,e,r){var n=r(6),i=Math.log,o=Math.LN2;n({target:"Math",stat:!0},{log2:function(t){return i(t)/o}})},function(t,e,r){r(112);var n=r(105);t.exports=n.Number.isNaN},function(t,e,r){r(6)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,r){r(114);var n=r(105);t.exports=n.Number.isInteger},function(t,e,r){r(6)({target:"Number",stat:!0},{isInteger:r(115)})},function(t,e,r){var n=r(19),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},function(t,e,r){r(117)},function(t,e,r){"use strict";var n=r(118),i=r(120),o=r(10),a=n.aTypedArray,s=n.exportTypedArrayMethod,c=[].slice;s("slice",(function(t,e){for(var r=c.call(a(this),t,e),n=i(this),o=0,s=r.length,u=new n(s);s>o;)u[o]=r[o++];return u}),o((function(){new Int8Array(1).slice()})))},function(t,e,r){"use strict";var n,i,o,a=r(119),s=r(9),c=r(7),u=r(20),f=r(19),l=r(36),h=r(65),p=r(29),d=r(41),v=r(44),g=r(42).f,y=r(89),m=r(93),b=r(31),x=r(38),w=c.Int8Array,S=w&&w.prototype,T=c.Uint8ClampedArray,O=T&&T.prototype,P=w&&y(w),C=S&&y(S),k=Object.prototype,I=k.isPrototypeOf,A=b("toStringTag"),E=x("TYPED_ARRAY_TAG"),_=x("TYPED_ARRAY_CONSTRUCTOR"),R=a&&!!m&&"Opera"!==h(c.opera),L=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},B=function(t){if(!f(t))return!1;var e=h(t);return l(M,e)||l(D,e)};for(n in M)(o=(i=c[n])&&i.prototype)?d(o,_,i):R=!1;for(n in D)(o=(i=c[n])&&i.prototype)&&d(o,_,i);if((!R||!u(P)||P===Function.prototype)&&(P=function(){throw TypeError("Incorrect invocation")},R))for(n in M)c[n]&&m(c[n],P);if((!R||!C||C===k)&&(C=P.prototype,R))for(n in M)c[n]&&m(c[n].prototype,C);if(R&&y(O)!==C&&m(O,C),s&&!l(C,A))for(n in L=!0,g(C,A,{get:function(){return f(this)?this[E]:void 0}}),M)c[n]&&d(c[n],E,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_CONSTRUCTOR:_,TYPED_ARRAY_TAG:L&&E,aTypedArray:function(t){if(B(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(u(t)&&(!m||I.call(P,t)))return t;throw TypeError(p(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(s){if(r)for(var n in M){var i=c[n];if(i&&l(i.prototype,t))try{delete i.prototype[t]}catch(t){}}C[t]&&!r||v(C,t,r?e:R&&S[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(s){if(m){if(r)for(n in M)if((i=c[n])&&l(i,t))try{delete i[t]}catch(t){}if(P[t]&&!r)return;try{return v(P,t,r?e:R&&P[t]||e)}catch(t){}}for(n in M)!(i=c[n])||i[t]&&!r||v(i,t,e)}},isView:function(t){if(!f(t))return!1;var e=h(t);return"DataView"===e||l(M,e)||l(D,e)},isTypedArray:B,TypedArray:P,TypedArrayPrototype:C}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,r){var n=r(118),i=r(121),o=n.TYPED_ARRAY_CONSTRUCTOR,a=n.aTypedArrayConstructor;t.exports=function(t){return a(i(t,t[o]))}},function(t,e,r){var n=r(43),i=r(122),o=r(31)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},function(t,e,r){var n=r(100),i=r(29);t.exports=function(t){if(n(t))return t;throw TypeError(i(t)+" is not a constructor")}},function(t,e,r){r(124),r(125),r(136),r(84);var n=r(105);t.exports=n.Map},function(t,e,r){"use strict";var n=r(13),i=r(78),o=r(92),a=r(46),s=r(86),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,r){"use strict";var n=r(126),i=r(133);t.exports=n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,r){"use strict";var n=r(6),i=r(7),o=r(61),a=r(44),s=r(127),c=r(130),u=r(131),f=r(20),l=r(19),h=r(10),p=r(104),d=r(91),v=r(132);t.exports=function(t,e,r){var g=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),m=g?"set":"add",b=i[t],x=b&&b.prototype,w=b,S={},T=function(t){var e=x[t];a(x,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(o(t,!f(b)||!(y||x.forEach&&!h((function(){(new b).entries().next()})))))w=r.getConstructor(e,t,g,m),s.enable();else if(o(t,!0)){var O=new w,P=O[m](y?{}:-0,1)!=O,C=h((function(){O.has(1)})),k=p((function(t){new b(t)})),I=!y&&h((function(){for(var t=new b,e=5;e--;)t[m](e,e);return!t.has(-0)}));k||((w=e((function(e,r){u(e,w,t);var n=v(new b,e,w);return null!=r&&c(r,n[m],{that:n,AS_ENTRIES:g}),n}))).prototype=x,x.constructor=w),(C||I)&&(T("delete"),T("has"),g&&T("get")),(I||P)&&T(m),y&&x.clear&&delete x.clear}return S[t]=w,n({global:!0,forced:w!=b},S),d(w,t),y||r.setStrong(w,t,g),w}},function(t,e,r){var n=r(6),i=r(49),o=r(19),a=r(36),s=r(42).f,c=r(53),u=r(128),f=r(38),l=r(129),h=!1,p=f("meta"),d=0,v=Object.isExtensible||function(){return!0},g=function(t){s(t,p,{value:{objectID:"O"+d++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},h=!0;var t=c.f,e=[].splice,r={};r[p]=1,t(r).length&&(c.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===p){e.call(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,p)){if(!v(t))return"F";if(!e)return"E";g(t)}return t[p].objectID},getWeakData:function(t,e){if(!a(t,p)){if(!v(t))return!0;if(!e)return!1;g(t)}return t[p].weakData},onFreeze:function(t){return l&&h&&v(t)&&!a(t,p)&&g(t),t}};i[p]=!0},function(t,e,r){var n=r(13),i=r(53).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(n(t))}},function(t,e,r){var n=r(10);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,r){var n=r(43),i=r(99),o=r(56),a=r(71),s=r(102),c=r(103),u=r(98),f=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,r){var l,h,p,d,v,g,y,m=r&&r.that,b=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_ITERATOR),w=!(!r||!r.INTERRUPTED),S=a(e,m,1+b+w),T=function(t){return l&&u(l,"normal",t),new f(!0,t)},O=function(t){return b?(n(t),w?S(t[0],t[1],T):S(t[0],t[1])):w?S(t,T):S(t)};if(x)l=t;else{if(!(h=c(t)))throw TypeError(String(t)+" is not iterable");if(i(h)){for(p=0,d=o(t.length);d>p;p++)if((v=O(t[p]))&&v instanceof f)return v;return new f(!1)}l=s(t,h)}for(g=l.next;!(y=g.call(l)).done;){try{v=O(y.value)}catch(t){u(l,"throw",t)}if("object"==typeof v&&v&&v instanceof f)return v}return new f(!1)}},function(t,e){t.exports=function(t,e,r){if(t instanceof e)return t;throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}},function(t,e,r){var n=r(20),i=r(19),o=r(93);t.exports=function(t,e,r){var a,s;return o&&n(a=e.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(t,s),t}},function(t,e,r){"use strict";var n=r(42).f,i=r(79),o=r(134),a=r(71),s=r(131),c=r(130),u=r(86),f=r(135),l=r(9),h=r(127).fastKey,p=r(46),d=p.set,v=p.getterFor;t.exports={getConstructor:function(t,e,r,u){var f=t((function(t,n){s(t,f,e),d(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=n&&c(n,t[u],{that:t,AS_ENTRIES:r})})),p=v(e),g=function(t,e,r){var n,i,o=p(t),a=y(t,e);return a?a.value=r:(o.last=a={index:i=h(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),l?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},y=function(t,e){var r,n=p(t),i=h(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return o(f.prototype,{clear:function(){for(var t=p(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=p(this),r=y(this,t);if(r){var n=r.next,i=r.previous;delete e.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),e.first==r&&(e.first=n),e.last==r&&(e.last=i),l?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=p(this),n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),o(f.prototype,r?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),l&&n(f.prototype,"size",{get:function(){return p(this).size}}),f},setStrong:function(t,e,r){var n=e+" Iterator",i=v(e),o=v(n);u(t,e,(function(t,e){d(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),f(e)}}},function(t,e,r){var n=r(44);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},function(t,e,r){"use strict";var n=r(22),i=r(42),o=r(31),a=r(9),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(66),i=r(44),o=r(137);n||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,r){"use strict";var n=r(66),i=r(65);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,r){r(124),r(136),r(139),r(84);var n=r(105);t.exports=n.Set},function(t,e,r){"use strict";var n=r(126),i=r(133);t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,r){r(124),r(136),r(141);var n=r(105);t.exports=n.WeakMap},function(t,e,r){"use strict";var n,i=r(7),o=r(134),a=r(127),s=r(126),c=r(142),u=r(19),f=r(46).enforce,l=r(47),h=!i.ActiveXObject&&"ActiveXObject"in i,p=Object.isExtensible,d=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},v=t.exports=s("WeakMap",d,c);if(l&&h){n=c.getConstructor(d,"WeakMap",!0),a.enable();var g=v.prototype,y=g.delete,m=g.has,b=g.get,x=g.set;o(g,{delete:function(t){if(u(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new n),y.call(this,t)||e.frozen.delete(t)}return y.call(this,t)},has:function(t){if(u(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new n),m.call(this,t)||e.frozen.has(t)}return m.call(this,t)},get:function(t){if(u(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new n),m.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(u(t)&&!p(t)){var r=f(this);r.frozen||(r.frozen=new n),m.call(this,t)?x.call(this,t,e):r.frozen.set(t,e)}else x.call(this,t,e);return this}})}},function(t,e,r){"use strict";var n=r(134),i=r(127).getWeakData,o=r(43),a=r(19),s=r(131),c=r(130),u=r(143),f=r(36),l=r(46),h=l.set,p=l.getterFor,d=u.find,v=u.findIndex,g=0,y=function(t){return t.frozen||(t.frozen=new m)},m=function(){this.entries=[]},b=function(t,e){return d(t.entries,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var r=b(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,u){var l=t((function(t,n){s(t,l,e),h(t,{type:e,id:g++,frozen:void 0}),null!=n&&c(n,t[u],{that:t,AS_ENTRIES:r})})),d=p(e),v=function(t,e,r){var n=d(t),a=i(o(e),!0);return!0===a?y(n).set(e,r):a[n.id]=r,t};return n(l.prototype,{delete:function(t){var e=d(this);if(!a(t))return!1;var r=i(t);return!0===r?y(e).delete(t):r&&f(r,e.id)&&delete r[e.id]},has:function(t){var e=d(this);if(!a(t))return!1;var r=i(t);return!0===r?y(e).has(t):r&&f(r,e.id)}}),n(l.prototype,r?{get:function(t){var e=d(this);if(a(t)){var r=i(t);return!0===r?y(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),l}}},function(t,e,r){var n=r(71),i=r(14),o=r(37),a=r(56),s=r(144),c=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,f=4==t,l=6==t,h=7==t,p=5==t||l;return function(d,v,g,y){for(var m,b,x=o(d),w=i(x),S=n(v,g,3),T=a(w.length),O=0,P=y||s,C=e?P(d,T):r||h?P(d,0):void 0;T>O;O++)if((p||O in w)&&(b=S(m=w[O],O,x),t))if(e)C[O]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return O;case 2:c.call(C,m)}else switch(t){case 4:return!1;case 7:c.call(C,m)}return l?-1:u||f?f:C}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(t,e,r){var n=r(145);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},function(t,e,r){var n=r(146),i=r(100),o=r(19),a=r(31)("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,(i(e)&&(e===Array||n(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?Array:e}},function(t,e,r){var n=r(15);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){r(124),r(136),r(148);var n=r(105);t.exports=n.WeakSet},function(t,e,r){"use strict";r(126)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(142))},function(t,e,r){r(150);var n=r(70);t.exports=n("String","codePointAt")},function(t,e,r){"use strict";var n=r(6),i=r(85).codeAt;n({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},function(t,e,r){r(152);var n=r(105);t.exports=n.String.fromCodePoint},function(t,e,r){var n=r(6),i=r(58),o=String.fromCharCode,a=String.fromCodePoint;n({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}})},function(t,e,r){r(154),r(136),r(156),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(174),r(175);var n=r(105);t.exports=n.Symbol},function(t,e,r){"use strict";var n=r(6),i=r(10),o=r(146),a=r(19),s=r(37),c=r(56),u=r(101),f=r(144),l=r(155),h=r(31),p=r(25),d=h("isConcatSpreadable"),v=p>=51||!i((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),g=l("concat"),y=function(t){if(!a(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,forced:!v||!g},{concat:function(t){var e,r,n,i,o,a=s(this),l=f(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(y(o=-1===e?a:arguments[e])){if(h+(i=c(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,h++)r in o&&u(l,h,o[r])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(l,h++,o)}return l.length=h,l}})},function(t,e,r){var n=r(10),i=r(31),o=r(25),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,r){"use strict";var n=r(6),i=r(7),o=r(22),a=r(33),s=r(9),c=r(24),u=r(10),f=r(36),l=r(146),h=r(20),p=r(19),d=r(21),v=r(43),g=r(37),y=r(13),m=r(17),b=r(64),x=r(12),w=r(79),S=r(81),T=r(53),O=r(128),P=r(60),C=r(8),k=r(42),I=r(11),A=r(44),E=r(32),_=r(48),R=r(49),L=r(38),M=r(31),D=r(157),B=r(158),U=r(91),j=r(46),F=r(143).forEach,N=_("hidden"),z=M("toPrimitive"),Y=j.set,X=j.getterFor("Symbol"),W=Object.prototype,H=i.Symbol,q=o("JSON","stringify"),G=C.f,V=k.f,J=O.f,K=I.f,Q=E("symbols"),Z=E("op-symbols"),$=E("string-to-symbol-registry"),tt=E("symbol-to-string-registry"),et=E("wks"),rt=i.QObject,nt=!rt||!rt.prototype||!rt.prototype.findChild,it=s&&u((function(){return 7!=w(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=G(W,e);n&&delete W[e],V(t,e,r),n&&t!==W&&V(W,e,n)}:V,ot=function(t,e){var r=Q[t]=w(H.prototype);return Y(r,{type:"Symbol",tag:t,description:e}),s||(r.description=e),r},at=function(t,e,r){t===W&&at(Z,e,r),v(t);var n=m(e);return v(r),f(Q,n)?(r.enumerable?(f(t,N)&&t[N][n]&&(t[N][n]=!1),r=w(r,{enumerable:x(0,!1)})):(f(t,N)||V(t,N,x(1,{})),t[N][n]=!0),it(t,n,r)):V(t,n,r)},st=function(t,e){v(t);var r=y(e),n=S(r).concat(lt(r));return F(n,(function(e){s&&!ct.call(r,e)||at(t,e,r[e])})),t},ct=function(t){var e=m(t),r=K.call(this,e);return!(this===W&&f(Q,e)&&!f(Z,e))&&(!(r||!f(this,e)||!f(Q,e)||f(this,N)&&this[N][e])||r)},ut=function(t,e){var r=y(t),n=m(e);if(r!==W||!f(Q,n)||f(Z,n)){var i=G(r,n);return!i||!f(Q,n)||f(r,N)&&r[N][n]||(i.enumerable=!0),i}},ft=function(t){var e=J(y(t)),r=[];return F(e,(function(t){f(Q,t)||f(R,t)||r.push(t)})),r},lt=function(t){var e=t===W,r=J(e?Z:y(t)),n=[];return F(r,(function(t){!f(Q,t)||e&&!f(W,t)||n.push(Q[t])})),n};(c||(A((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,e=L(t),r=function(t){this===W&&r.call(Z,t),f(this,N)&&f(this[N],e)&&(this[N][e]=!1),it(this,e,x(1,t))};return s&&nt&&it(W,e,{configurable:!0,set:r}),ot(e,t)}).prototype,"toString",(function(){return X(this).tag})),A(H,"withoutSetter",(function(t){return ot(L(t),t)})),I.f=ct,k.f=at,C.f=ut,T.f=O.f=ft,P.f=lt,D.f=function(t){return ot(M(t),t)},s&&(V(H.prototype,"description",{configurable:!0,get:function(){return X(this).description}}),a||A(W,"propertyIsEnumerable",ct,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),F(S(et),(function(t){B(t)})),n({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=b(t);if(f($,e))return $[e];var r=H(e);return $[e]=r,tt[r]=e,r},keyFor:function(t){if(!d(t))throw TypeError(t+" is not a symbol");if(f(tt,t))return tt[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(t,e){return void 0===e?w(t):st(w(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:ut}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft,getOwnPropertySymbols:lt}),n({target:"Object",stat:!0,forced:u((function(){P.f(1)}))},{getOwnPropertySymbols:function(t){return P.f(g(t))}}),q)&&n({target:"JSON",stat:!0,forced:!c||u((function(){var t=H();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}))},{stringify:function(t,e,r){for(var n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e,(p(e)||void 0!==t)&&!d(t))return l(e)||(e=function(t,e){if(h(n)&&(e=n.call(this,t,e)),!d(e))return e}),i[1]=e,q.apply(null,i)}});if(!H.prototype[z]){var ht=H.prototype.valueOf;A(H.prototype,z,(function(){return ht.apply(this,arguments)}))}U(H,"Symbol"),R[N]=!0},function(t,e,r){var n=r(31);e.f=n},function(t,e,r){var n=r(105),i=r(36),o=r(157),a=r(42).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,r){r(158)("asyncIterator")},function(t,e,r){"use strict";var n=r(6),i=r(9),o=r(7),a=r(36),s=r(20),c=r(19),u=r(42).f,f=r(51),l=o.Symbol;if(i&&s(l)&&(!("description"in l.prototype)||void 0!==l().description)){var h={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(h[e]=!0),e};f(p,l);var d=p.prototype=l.prototype;d.constructor=p;var v=d.toString,g="Symbol(test)"==String(l("test")),y=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=v.call(t);if(a(h,t))return"";var r=g?e.slice(7,-1):e.replace(y,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},function(t,e,r){r(158)("hasInstance")},function(t,e,r){r(158)("isConcatSpreadable")},function(t,e,r){r(158)("iterator")},function(t,e,r){r(158)("match")},function(t,e,r){r(158)("matchAll")},function(t,e,r){r(158)("replace")},function(t,e,r){r(158)("search")},function(t,e,r){r(158)("species")},function(t,e,r){r(158)("split")},function(t,e,r){r(158)("toPrimitive")},function(t,e,r){r(158)("toStringTag")},function(t,e,r){r(158)("unscopables")},function(t,e,r){var n=r(7);r(91)(n.JSON,"JSON",!0)},function(t,e,r){r(91)(Math,"Math",!0)},function(t,e,r){var n=r(6),i=r(7),o=r(91);n({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},function(t,e,r){r(177);var n=r(70);t.exports=n("String","padStart")},function(t,e,r){"use strict";var n=r(6),i=r(178).start;n({target:"String",proto:!0,forced:r(180)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(56),i=r(64),o=r(179),a=r(16),s=Math.ceil,c=function(t){return function(e,r,c){var u,f,l=i(a(e)),h=l.length,p=void 0===c?" ":i(c),d=n(r);return d<=h||""==p?l:(u=d-h,(f=o.call(p,s(u/p.length))).length>u&&(f=f.slice(0,u)),t?l+f:f+l)}};t.exports={start:c(!1),end:c(!0)}},function(t,e,r){"use strict";var n=r(57),i=r(64),o=r(16);t.exports=function(t){var e=i(o(this)),r="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},function(t,e,r){var n=r(26);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},function(t,e,r){r(182);var n=r(70);t.exports=n("String","padEnd")},function(t,e,r){"use strict";var n=r(6),i=r(178).end;n({target:"String",proto:!0,forced:r(180)},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){r(184);var n=r(105);t.exports=n.Object.values},function(t,e,r){var n=r(6),i=r(185).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},function(t,e,r){var n=r(9),i=r(81),o=r(13),a=r(11).f,s=function(t){return function(e){for(var r,s=o(e),c=i(s),u=c.length,f=0,l=[];u>f;)r=c[f++],n&&!a.call(s,r)||l.push(t?[r,s[r]]:s[r]);return l}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Jbig2Image=void 0;var i=r(1),o=r(187),a=r(188),s=r(189);function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,t);var e=u(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e.call(this,"JBIG2 error: ".concat(t))}return r}(i.BaseException),p=function(){function t(){}function e(t,e,r){this.data=t,this.start=e,this.end=r}function r(t,e,r){var n=t.getContexts(e),i=1;function o(t){for(var e=0,o=0;o<t;o++){var a=r.readBit(n,i);i=i<256?i<<1|a:511&(i<<1|a)|256,e=e<<1|a}return e>>>0}var a=o(1),s=o(1)?o(1)?o(1)?o(1)?o(1)?o(32)+4436:o(12)+340:o(8)+84:o(6)+20:o(4)+4:o(2);return 0===a?s:s>0?-s:null}function n(t,e,r){for(var n=t.getContexts("IAID"),i=1,o=0;o<r;o++){i=i<<1|e.readBit(n,i)}return r<31?i&(1<<r)-1:2147483647&i}t.prototype={getContexts:function(t){return t in this?this[t]:this[t]=new Int8Array(65536)}},e.prototype={get decoder(){var t=new a.ArithmeticDecoder(this.data,this.start,this.end);return(0,i.shadow)(this,"decoder",t)},get contextCache(){var e=new t;return(0,i.shadow)(this,"contextCache",e)}};var c=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],u=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],f=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],l=[39717,1941,229,405],p=[32,8];function d(t,e,r,n,i,o,a,s){if(t)return R(new A(s.data,s.start,s.end),e,r,!1);if(0===n&&!o&&!i&&4===a.length&&3===a[0].x&&-1===a[0].y&&-3===a[1].x&&-1===a[1].y&&2===a[2].x&&-2===a[2].y&&-2===a[3].x&&-2===a[3].y)return function(t,e,r){var n,i,o,a,s,c,u,f=r.decoder,l=r.contextCache.getContexts("GB"),h=[];for(i=0;i<e;i++)for(s=h[i]=new Uint8Array(t),c=i<1?s:h[i-1],n=(u=i<2?s:h[i-2])[0]<<13|u[1]<<12|u[2]<<11|c[0]<<7|c[1]<<6|c[2]<<5|c[3]<<4,o=0;o<t;o++)s[o]=a=f.readBit(l,n),n=(31735&n)<<1|(o+3<t?u[o+3]<<11:0)|(o+4<t?c[o+4]<<4:0)|a;return h}(e,r,s);var c=!!o,f=u[n].concat(a);f.sort((function(t,e){return t.y-e.y||t.x-e.x}));var h,p,d=f.length,v=new Int8Array(d),g=new Int8Array(d),y=[],m=0,b=0,x=0,w=0;for(p=0;p<d;p++)v[p]=f[p].x,g[p]=f[p].y,b=Math.min(b,f[p].x),x=Math.max(x,f[p].x),w=Math.min(w,f[p].y),p<d-1&&f[p].y===f[p+1].y&&f[p].x===f[p+1].x-1?m|=1<<d-1-p:y.push(p);var S=y.length,T=new Int8Array(S),O=new Int8Array(S),P=new Uint16Array(S);for(h=0;h<S;h++)p=y[h],T[h]=f[p].x,O[h]=f[p].y,P[h]=1<<d-1-p;for(var C,k,I,E,_,L=-b,M=-w,D=e-x,B=l[n],U=new Uint8Array(e),j=[],F=s.decoder,N=s.contextCache.getContexts("GB"),z=0,Y=0,X=0;X<r;X++){if(i)if(z^=F.readBit(N,B)){j.push(U);continue}for(U=new Uint8Array(U),j.push(U),C=0;C<e;C++)if(c&&o[X][C])U[C]=0;else{if(C>=L&&C<D&&X>=M)for(Y=Y<<1&m,p=0;p<S;p++)k=X+O[p],I=C+T[p],(E=j[k][I])&&(Y|=E=P[p]);else for(Y=0,_=d-1,p=0;p<d;p++,_--)(I=C+v[p])>=0&&I<e&&(k=X+g[p])>=0&&(E=j[k][I])&&(Y|=E<<_);var W=F.readBit(N,Y);U[C]=W}}return j}function v(t,e,r,n,i,o,a,s,c){var u=f[r].coding;0===r&&(u=u.concat([s[0]]));var l,d=u.length,v=new Int32Array(d),g=new Int32Array(d);for(l=0;l<d;l++)v[l]=u[l].x,g[l]=u[l].y;var y=f[r].reference;0===r&&(y=y.concat([s[1]]));var m=y.length,b=new Int32Array(m),x=new Int32Array(m);for(l=0;l<m;l++)b[l]=y[l].x,x[l]=y[l].y;for(var w=n[0].length,S=n.length,T=p[r],O=[],P=c.decoder,C=c.contextCache.getContexts("GR"),k=0,I=0;I<e;I++){if(a)if(k^=P.readBit(C,T))throw new h("prediction is not supported");var A=new Uint8Array(t);O.push(A);for(var E=0;E<t;E++){var _,R,L=0;for(l=0;l<d;l++)_=I+g[l],R=E+v[l],_<0||R<0||R>=t?L<<=1:L=L<<1|O[_][R];for(l=0;l<m;l++)_=I+x[l]-o,R=E+b[l]-i,_<0||_>=S||R<0||R>=w?L<<=1:L=L<<1|n[_][R];var M=P.readBit(C,L);A[E]=M}}return O}function g(t,e,i,o,a,s,c,u,f,l,p,d,g,y,m,b,x,w,S){if(t&&e)throw new h("refinement with Huffman is not supported");var T,O,P=[];for(T=0;T<o;T++){if(O=new Uint8Array(i),a)for(var C=0;C<i;C++)O[C]=a;P.push(O)}var k=x.decoder,I=x.contextCache,A=t?-y.tableDeltaT.decode(S):-r(I,"IADT",k),E=0;for(T=0;T<s;){A+=t?y.tableDeltaT.decode(S):r(I,"IADT",k);for(var _=E+=t?y.tableFirstS.decode(S):r(I,"IAFS",k);;){var R=0;c>1&&(R=t?S.readBits(w):r(I,"IAIT",k));var L=c*A+R,M=t?y.symbolIDTable.decode(S):n(I,k,f),D=e&&(t?S.readBit():r(I,"IARI",k)),B=u[M],U=B[0].length,j=B.length;if(D){var F=r(I,"IARDW",k),N=r(I,"IARDH",k);B=v(U+=F,j+=N,m,B,(F>>1)+r(I,"IARDX",k),(N>>1)+r(I,"IARDY",k),!1,b,x)}var z,Y,X,W=L-(1&d?0:j-1),H=_-(2&d?U-1:0);if(l){for(z=0;z<j;z++)if(O=P[H+z]){X=B[z];var q=Math.min(i-W,U);switch(g){case 0:for(Y=0;Y<q;Y++)O[W+Y]|=X[Y];break;case 2:for(Y=0;Y<q;Y++)O[W+Y]^=X[Y];break;default:throw new h("operator ".concat(g," is not supported"))}}_+=j-1}else{for(Y=0;Y<j;Y++)if(O=P[W+Y])switch(X=B[Y],g){case 0:for(z=0;z<U;z++)O[H+z]|=X[z];break;case 2:for(z=0;z<U;z++)O[H+z]^=X[z];break;default:throw new h("operator ".concat(g," is not supported"))}_+=U-1}T++;var G=t?y.tableDeltaS.decode(S):r(I,"IADS",k);if(null===G)break;_+=G+p}}return P}function y(t,e){var r={};r.number=(0,o.readUint32)(t,e);var n=t[e+4],i=63&n;if(!c[i])throw new h("invalid segment type: "+i);r.type=i,r.typeName=c[i],r.deferredNonRetain=!!(128&n);var a=!!(64&n),s=t[e+5],u=s>>5&7,f=[31&s],l=e+6;if(7===s){u=536870911&(0,o.readUint32)(t,l-1),l+=3;var p=u+7>>3;for(f[0]=t[l++];--p>0;)f.push(t[l++])}else if(5===s||6===s)throw new h("invalid referred-to flags");r.retainBits=f;var d=4;r.number<=256?d=1:r.number<=65536&&(d=2);var v,g,y=[];for(v=0;v<u;v++){var m=void 0;m=1===d?t[l]:2===d?(0,o.readUint16)(t,l):(0,o.readUint32)(t,l),y.push(m),l+=d}if(r.referredTo=y,a?(r.pageAssociation=(0,o.readUint32)(t,l),l+=4):r.pageAssociation=t[l++],r.length=(0,o.readUint32)(t,l),l+=4,4294967295===r.length){if(38!==i)throw new h("invalid unknown segment length");var w=b(t,l),S=!!(1&t[l+x]),T=new Uint8Array(6);for(S||(T[0]=255,T[1]=172),T[2]=w.height>>>24&255,T[3]=w.height>>16&255,T[4]=w.height>>8&255,T[5]=255&w.height,v=l,g=t.length;v<g;v++){for(var O=0;O<6&&T[O]===t[v+O];)O++;if(6===O){r.length=v+6;break}}if(4294967295===r.length)throw new h("segment end was not found")}return r.headerEnd=l,r}function m(t,e,r,n){for(var i=[],o=r;o<n;){var a=y(e,o);o=a.headerEnd;var s={header:a,data:e};if(t.randomAccess||(s.start=o,o+=a.length,s.end=o),i.push(s),51===a.type)break}if(t.randomAccess)for(var c=0,u=i.length;c<u;c++)i[c].start=o,o+=i[c].header.length,i[c].end=o;return i}function b(t,e){return{width:(0,o.readUint32)(t,e),height:(0,o.readUint32)(t,e+4),x:(0,o.readUint32)(t,e+8),y:(0,o.readUint32)(t,e+12),combinationOperator:7&t[e+16]}}var x=17;function w(t,e){var r,n,i,a,s=t.header,c=t.data,u=t.start,f=t.end;switch(s.type){case 0:var l={},p=(0,o.readUint16)(c,u);if(l.huffman=!!(1&p),l.refinement=!!(2&p),l.huffmanDHSelector=p>>2&3,l.huffmanDWSelector=p>>4&3,l.bitmapSizeSelector=p>>6&1,l.aggregationInstancesSelector=p>>7&1,l.bitmapCodingContextUsed=!!(256&p),l.bitmapCodingContextRetained=!!(512&p),l.template=p>>10&3,l.refinementTemplate=p>>12&1,u+=2,!l.huffman){for(a=0===l.template?4:1,n=[],i=0;i<a;i++)n.push({x:(0,o.readInt8)(c,u),y:(0,o.readInt8)(c,u+1)}),u+=2;l.at=n}if(l.refinement&&!l.refinementTemplate){for(n=[],i=0;i<2;i++)n.push({x:(0,o.readInt8)(c,u),y:(0,o.readInt8)(c,u+1)}),u+=2;l.refinementAt=n}l.numberOfExportedSymbols=(0,o.readUint32)(c,u),u+=4,l.numberOfNewSymbols=(0,o.readUint32)(c,u),u+=4,r=[l,s.number,s.referredTo,c,u,f];break;case 6:case 7:var d={};d.info=b(c,u),u+=x;var v=(0,o.readUint16)(c,u);if(u+=2,d.huffman=!!(1&v),d.refinement=!!(2&v),d.logStripSize=v>>2&3,d.stripSize=1<<d.logStripSize,d.referenceCorner=v>>4&3,d.transposed=!!(64&v),d.combinationOperator=v>>7&3,d.defaultPixelValue=v>>9&1,d.dsOffset=v<<17>>27,d.refinementTemplate=v>>15&1,d.huffman){var g=(0,o.readUint16)(c,u);u+=2,d.huffmanFS=3&g,d.huffmanDS=g>>2&3,d.huffmanDT=g>>4&3,d.huffmanRefinementDW=g>>6&3,d.huffmanRefinementDH=g>>8&3,d.huffmanRefinementDX=g>>10&3,d.huffmanRefinementDY=g>>12&3,d.huffmanRefinementSizeSelector=!!(16384&g)}if(d.refinement&&!d.refinementTemplate){for(n=[],i=0;i<2;i++)n.push({x:(0,o.readInt8)(c,u),y:(0,o.readInt8)(c,u+1)}),u+=2;d.refinementAt=n}d.numberOfSymbolInstances=(0,o.readUint32)(c,u),u+=4,r=[d,s.referredTo,c,u,f];break;case 16:var y={},m=c[u++];y.mmr=!!(1&m),y.template=m>>1&3,y.patternWidth=c[u++],y.patternHeight=c[u++],y.maxPatternIndex=(0,o.readUint32)(c,u),u+=4,r=[y,s.number,c,u,f];break;case 22:case 23:var w={};w.info=b(c,u),u+=x;var S=c[u++];w.mmr=!!(1&S),w.template=S>>1&3,w.enableSkip=!!(8&S),w.combinationOperator=S>>4&7,w.defaultPixelValue=S>>7&1,w.gridWidth=(0,o.readUint32)(c,u),u+=4,w.gridHeight=(0,o.readUint32)(c,u),u+=4,w.gridOffsetX=4294967295&(0,o.readUint32)(c,u),u+=4,w.gridOffsetY=4294967295&(0,o.readUint32)(c,u),u+=4,w.gridVectorX=(0,o.readUint16)(c,u),u+=2,w.gridVectorY=(0,o.readUint16)(c,u),u+=2,r=[w,s.referredTo,c,u,f];break;case 38:case 39:var T={};T.info=b(c,u),u+=x;var O=c[u++];if(T.mmr=!!(1&O),T.template=O>>1&3,T.prediction=!!(8&O),!T.mmr){for(a=0===T.template?4:1,n=[],i=0;i<a;i++)n.push({x:(0,o.readInt8)(c,u),y:(0,o.readInt8)(c,u+1)}),u+=2;T.at=n}r=[T,c,u,f];break;case 48:var P={width:(0,o.readUint32)(c,u),height:(0,o.readUint32)(c,u+4),resolutionX:(0,o.readUint32)(c,u+8),resolutionY:(0,o.readUint32)(c,u+12)};4294967295===P.height&&delete P.height;var C=c[u+16];(0,o.readUint16)(c,u+17),P.lossless=!!(1&C),P.refinement=!!(2&C),P.defaultPixelValue=C>>2&1,P.combinationOperator=C>>3&3,P.requiresBuffer=!!(32&C),P.combinationOperatorOverride=!!(64&C),r=[P];break;case 49:case 50:case 51:break;case 53:r=[s.number,c,u,f];break;case 62:break;default:throw new h("segment type ".concat(s.typeName,"(").concat(s.type,")")+" is not implemented")}var k="on"+s.typeName;k in e&&e[k].apply(e,r)}function S(t,e){for(var r=0,n=t.length;r<n;r++)w(t[r],e)}function T(){}function O(t){2===t.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=t[0],this.rangeLength=0,this.prefixCode=t[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=t[0],this.prefixLength=t[1],this.rangeLength=t[2],this.prefixCode=t[3],this.isLowerRange="lower"===t[4])}function P(t){this.children=[],t?(this.isLeaf=!0,this.rangeLength=t.rangeLength,this.rangeLow=t.rangeLow,this.isLowerRange=t.isLowerRange,this.isOOB=t.isOOB):this.isLeaf=!1}function C(t,e){e||this.assignPrefixCodes(t),this.rootNode=new P(null);for(var r=0,n=t.length;r<n;r++){var i=t[r];i.prefixLength>0&&this.rootNode.buildTree(i,i.prefixLength-1)}}T.prototype={onPageInformation:function(t){this.currentPageInfo=t;var e=t.width+7>>3,r=new Uint8ClampedArray(e*t.height);if(t.defaultPixelValue)for(var n=0,i=r.length;n<i;n++)r[n]=255;this.buffer=r},drawBitmap:function(t,e){var r,n,i,o,a=this.currentPageInfo,s=t.width,c=t.height,u=a.width+7>>3,f=a.combinationOperatorOverride?t.combinationOperator:a.combinationOperator,l=this.buffer,p=128>>(7&t.x),d=t.y*u+(t.x>>3);switch(f){case 0:for(r=0;r<c;r++){for(i=p,o=d,n=0;n<s;n++)e[r][n]&&(l[o]|=i),(i>>=1)||(i=128,o++);d+=u}break;case 2:for(r=0;r<c;r++){for(i=p,o=d,n=0;n<s;n++)e[r][n]&&(l[o]^=i),(i>>=1)||(i=128,o++);d+=u}break;default:throw new h("operator ".concat(f," is not supported"))}},onImmediateGenericRegion:function(t,r,n,i){var o=t.info,a=new e(r,n,i),s=d(t.mmr,o.width,o.height,t.template,t.prediction,null,t.at,a);this.drawBitmap(o,s)},onImmediateLosslessGenericRegion:function(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function(t,i,a,s,c,u){var f,l;t.huffman&&(f=function(t,e,r){var n,i,o,a,s=0;switch(t.huffmanDHSelector){case 0:case 1:n=I(t.huffmanDHSelector+4);break;case 3:n=E(s,e,r),s++;break;default:throw new h("invalid Huffman DH selector")}switch(t.huffmanDWSelector){case 0:case 1:i=I(t.huffmanDWSelector+2);break;case 3:i=E(s,e,r),s++;break;default:throw new h("invalid Huffman DW selector")}t.bitmapSizeSelector?(o=E(s,e,r),s++):o=I(1);a=t.aggregationInstancesSelector?E(s,e,r):I(1);return{tableDeltaHeight:n,tableDeltaWidth:i,tableBitmapSize:o,tableAggregateInstances:a}}(t,a,this.customTables),l=new A(s,c,u));var p=this.symbols;p||(this.symbols=p={});for(var y=[],m=0,b=a.length;m<b;m++){var x=p[a[m]];x&&(y=y.concat(x))}var w=new e(s,c,u);p[i]=function(t,e,i,a,s,c,u,f,l,p,y,m){if(t&&e)throw new h("symbol refinement with Huffman is not supported");var b,x,w=[],S=0,T=(0,o.log2)(i.length+a),O=y.decoder,P=y.contextCache;for(t&&(b=I(1),x=[],T=Math.max(T,1));w.length<a;){S+=t?c.tableDeltaHeight.decode(m):r(P,"IADH",O);for(var C=0,k=0,A=t?x.length:0;;){var E,L=t?c.tableDeltaWidth.decode(m):r(P,"IADW",O);if(null===L)break;if(k+=C+=L,e){var M=r(P,"IAAI",O);if(M>1)E=g(t,e,C,S,0,M,1,i.concat(w),T,0,0,1,0,c,l,p,y,0,m);else{var D=n(P,O,T),B=r(P,"IARDX",O),U=r(P,"IARDY",O);E=v(C,S,l,D<i.length?i[D]:w[D-i.length],B,U,!1,p,y)}w.push(E)}else t?x.push(C):(E=d(!1,C,S,u,!1,null,f,y),w.push(E))}if(t&&!e){var j=c.tableBitmapSize.decode(m);m.byteAlign();var F=void 0;if(0===j)F=_(m,k,S);else{var N=m.end,z=m.position+j;m.end=z,F=R(m,k,S,!1),m.end=N,m.position=z}var Y=x.length;if(A===Y-1)w.push(F);else{var X=void 0,W=void 0,H=0,q=void 0,G=void 0;for(X=A;X<Y;X++){for(q=H+x[X],G=[],W=0;W<S;W++)G.push(F[W].subarray(H,q));w.push(G),H=q}}}}for(var V=[],J=[],K=!1,Q=i.length+a;J.length<Q;){for(var Z=t?b.decode(m):r(P,"IAEX",O);Z--;)J.push(K);K=!K}for(var $=0,tt=i.length;$<tt;$++)J[$]&&V.push(i[$]);for(var et=0;et<a;$++,et++)J[$]&&V.push(w[et]);return V}(t.huffman,t.refinement,y,t.numberOfNewSymbols,t.numberOfExportedSymbols,f,t.template,t.at,t.refinementTemplate,t.refinementAt,w,l)},onImmediateTextRegion:function(t,r,n,i,a){for(var s,c,u=t.info,f=this.symbols,l=[],p=0,d=r.length;p<d;p++){var v=f[r[p]];v&&(l=l.concat(v))}var y=(0,o.log2)(l.length);t.huffman&&(c=new A(n,i,a),s=function(t,e,r,n,i){for(var o=[],a=0;a<=34;a++){var s=i.readBits(4);o.push(new O([a,s,0,0]))}var c=new C(o,!1);o.length=0;for(var u=0;u<n;){var f=c.decode(i);if(f>=32){var l=void 0,p=void 0,d=void 0;switch(f){case 32:if(0===u)throw new h("no previous value in symbol ID table");p=i.readBits(2)+3,l=o[u-1].prefixLength;break;case 33:p=i.readBits(3)+3,l=0;break;case 34:p=i.readBits(7)+11,l=0;break;default:throw new h("invalid code length in symbol ID table")}for(d=0;d<p;d++)o.push(new O([u,l,0,0])),u++}else o.push(new O([u,f,0,0])),u++}i.byteAlign();var v,g,y,m=new C(o,!1),b=0;switch(t.huffmanFS){case 0:case 1:v=I(t.huffmanFS+6);break;case 3:v=E(b,e,r),b++;break;default:throw new h("invalid Huffman FS selector")}switch(t.huffmanDS){case 0:case 1:case 2:g=I(t.huffmanDS+8);break;case 3:g=E(b,e,r),b++;break;default:throw new h("invalid Huffman DS selector")}switch(t.huffmanDT){case 0:case 1:case 2:y=I(t.huffmanDT+11);break;case 3:y=E(b,e,r),b++;break;default:throw new h("invalid Huffman DT selector")}if(t.refinement)throw new h("refinement with Huffman is not supported");return{symbolIDTable:m,tableFirstS:v,tableDeltaS:g,tableDeltaT:y}}(t,r,this.customTables,l.length,c));var m=new e(n,i,a),b=g(t.huffman,t.refinement,u.width,u.height,t.defaultPixelValue,t.numberOfSymbolInstances,t.stripSize,l,y,t.transposed,t.dsOffset,t.referenceCorner,t.combinationOperator,s,t.refinementTemplate,t.refinementAt,m,t.logStripSize,c);this.drawBitmap(u,b)},onImmediateLosslessTextRegion:function(){this.onImmediateTextRegion.apply(this,arguments)},onPatternDictionary:function(t,r,n,i,o){var a=this.patterns;a||(this.patterns=a={});var s=new e(n,i,o);a[r]=function(t,e,r,n,i,o){var a=[];t||(a.push({x:-e,y:0}),0===i&&(a.push({x:-3,y:-1}),a.push({x:2,y:-2}),a.push({x:-2,y:-2})));for(var s=d(t,(n+1)*e,r,i,!1,null,a,o),c=[],u=0;u<=n;u++){for(var f=[],l=e*u,h=l+e,p=0;p<r;p++)f.push(s[p].subarray(l,h));c.push(f)}return c}(t.mmr,t.patternWidth,t.patternHeight,t.maxPatternIndex,t.template,s)},onImmediateHalftoneRegion:function(t,r,n,i,a){var s=this.patterns[r[0]],c=t.info,u=new e(n,i,a),f=function(t,e,r,n,i,a,s,c,u,f,l,p,v,g,y){if(s)throw new h("skip is not supported");if(0!==c)throw new h("operator "+c+" is not supported in halftone region");var m,b,x,w=[];for(m=0;m<i;m++){if(x=new Uint8Array(n),a)for(b=0;b<n;b++)x[b]=a;w.push(x)}var S=e.length,T=e[0],O=T[0].length,P=T.length,C=(0,o.log2)(S),k=[];t||(k.push({x:r<=1?3:2,y:-1}),0===r&&(k.push({x:-3,y:-1}),k.push({x:2,y:-2}),k.push({x:-2,y:-2})));var I,E,_,L,M,D,B,U,j,F,N,z=[];for(t&&(I=new A(y.data,y.start,y.end)),m=C-1;m>=0;m--)E=t?R(I,u,f,!0):d(!1,u,f,r,!1,null,k,y),z[m]=E;for(_=0;_<f;_++)for(L=0;L<u;L++){for(M=0,D=0,b=C-1;b>=0;b--)D|=(M=z[b][_][L]^M)<<b;if(B=e[D],j=p+_*v-L*g>>8,(U=l+_*g+L*v>>8)>=0&&U+O<=n&&j>=0&&j+P<=i)for(m=0;m<P;m++)for(N=w[j+m],F=B[m],b=0;b<O;b++)N[U+b]|=F[b];else{var Y=void 0,X=void 0;for(m=0;m<P;m++)if(!((X=j+m)<0||X>=i))for(N=w[X],F=B[m],b=0;b<O;b++)(Y=U+b)>=0&&Y<n&&(N[Y]|=F[b])}}return w}(t.mmr,s,t.template,c.width,c.height,t.defaultPixelValue,t.enableSkip,t.combinationOperator,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridVectorX,t.gridVectorY,u);this.drawBitmap(c,f)},onImmediateLosslessHalftoneRegion:function(){this.onImmediateHalftoneRegion.apply(this,arguments)},onTables:function(t,e,r,n){var i=this.customTables;i||(this.customTables=i={}),i[t]=function(t,e,r){var n,i,a=t[e],s=4294967295&(0,o.readUint32)(t,e+1),c=4294967295&(0,o.readUint32)(t,e+5),u=new A(t,e+9,r),f=1+(a>>1&7),l=1+(a>>4&7),h=[],p=s;do{n=u.readBits(f),i=u.readBits(l),h.push(new O([p,n,i,0])),p+=1<<i}while(p<c);n=u.readBits(f),h.push(new O([s-1,n,32,0,"lower"])),n=u.readBits(f),h.push(new O([c,n,32,0])),1&a&&(n=u.readBits(f),h.push(new O([n,0])));return new C(h,!1)}(e,r,n)}},P.prototype={buildTree:function(t,e){var r=t.prefixCode>>e&1;if(e<=0)this.children[r]=new P(t);else{var n=this.children[r];n||(this.children[r]=n=new P(null)),n.buildTree(t,e-1)}},decodeNode:function(t){if(this.isLeaf){if(this.isOOB)return null;var e=t.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-e:e)}var r=this.children[t.readBit()];if(!r)throw new h("invalid Huffman data");return r.decodeNode(t)}},C.prototype={decode:function(t){return this.rootNode.decodeNode(t)},assignPrefixCodes:function(t){for(var e=t.length,r=0,n=0;n<e;n++)r=Math.max(r,t[n].prefixLength);for(var i=new Uint32Array(r+1),o=0;o<e;o++)i[t[o].prefixLength]++;var a,s,c,u=1,f=0;for(i[0]=0;u<=r;){for(a=f=f+i[u-1]<<1,s=0;s<e;)(c=t[s]).prefixLength===u&&(c.prefixCode=a,a++),s++;u++}}};var k={};function I(t){var e,r=k[t];if(r)return r;switch(t){case 1:e=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:e=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:e=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:e=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:e=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:e=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:e=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:e=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:e=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:e=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:e=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:e=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:e=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:e=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:e=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new h("standard table B.".concat(t," does not exist"))}for(var n=0,i=e.length;n<i;n++)e[n]=new O(e[n]);return r=new C(e,!0),k[t]=r,r}function A(t,e,r){this.data=t,this.start=e,this.end=r,this.position=e,this.shift=-1,this.currentByte=0}function E(t,e,r){for(var n=0,i=0,o=e.length;i<o;i++){var a=r[e[i]];if(a){if(t===n)return a;n++}}throw new h("can't find custom Huffman table")}function _(t,e,r){for(var n=[],i=0;i<r;i++){var o=new Uint8Array(e);n.push(o);for(var a=0;a<e;a++)o[a]=t.readBit();t.byteAlign()}return n}function R(t,e,r,n){for(var i,o={K:-1,Columns:e,Rows:r,BlackIs1:!0,EndOfBlock:n},a=new s.CCITTFaxDecoder(t,o),c=[],u=!1,f=0;f<r;f++){var l=new Uint8Array(e);c.push(l);for(var h=-1,p=0;p<e;p++)h<0&&(-1===(i=a.readNextChar())&&(i=0,u=!0),h=7),l[p]=i>>h&1,h--}if(n&&!u)for(var d=0;d<5&&-1!==a.readNextChar();d++);return c}function L(){}return A.prototype={readBit:function(){if(this.shift<0){if(this.position>=this.end)throw new h("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}var t=this.currentByte>>this.shift&1;return this.shift--,t},readBits:function(t){var e,r=0;for(e=t-1;e>=0;e--)r|=this.readBit()<<e;return r},byteAlign:function(){this.shift=-1},next:function(){return this.position>=this.end?-1:this.data[this.position++]}},L.prototype={parseChunks:function(t){return function(t){for(var e=new T,r=0,n=t.length;r<n;r++){var i=t[r];S(m({},i.data,i.start,i.end),e)}return e.buffer}(t)},parse:function(t){var e=function(t){var e=t.length,r=0;if(151!==t[r]||74!==t[r+1]||66!==t[r+2]||50!==t[r+3]||13!==t[r+4]||10!==t[r+5]||26!==t[r+6]||10!==t[r+7])throw new h("parseJbig2 - invalid header.");var n=Object.create(null);r+=8;var i=t[r++];n.randomAccess=!(1&i),2&i||(n.numberOfPages=(0,o.readUint32)(t,r),r+=4);var a=m(n,t,r,e),s=new T;S(a,s);for(var c=s.currentPageInfo,u=c.width,f=c.height,l=s.buffer,p=new Uint8ClampedArray(u*f),d=0,v=0,g=0;g<f;g++)for(var y=0,b=void 0,x=0;x<u;x++)y||(y=128,b=l[v++]),p[d++]=b&y?0:255,y>>=1;return{imgData:p,width:u,height:f}}(t),r=e.imgData,n=e.width,i=e.height;return this.width=n,this.height=i,r}},L}();e.Jbig2Image=p},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getLookupTableFactory=function(t){var e;return function(){return t&&(e=Object.create(null),t(e),t=null),e}},e.getInheritableProperty=function(t){var e,r=t.dict,n=t.key,o=t.getArray,a=void 0!==o&&o,s=t.stopWhenFound,c=void 0===s||s,u=0;for(;r;){var f=a?r.getArray(n):r.get(n);if(void 0!==f){if(c)return f;e||(e=[]),e.push(f)}if(++u>100){(0,i.warn)('getInheritableProperty: maximum loop count exceeded for "'.concat(n,'"'));break}r=r.get("Parent")}return e},e.toRomanNumerals=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,i.assert)(Number.isInteger(t)&&t>0,"The number should be a positive integer.");var r,n=[];for(;t>=1e3;)t-=1e3,n.push("M");r=t/100|0,t%=100,n.push(d[r]),r=t/10|0,t%=10,n.push(d[10+r]),n.push(d[20+t]);var o=n.join("");return e?o.toLowerCase():o},e.log2=function(t){if(t<=0)return 0;return Math.ceil(Math.log2(t))},e.readInt8=function(t,e){return t[e]<<24>>24},e.readUint16=function(t,e){return t[e]<<8|t[e+1]},e.readUint32=function(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0},e.isWhiteSpace=function(t){return 32===t||9===t||13===t||10===t},e.XRefParseException=e.XRefEntryException=e.MissingDataException=void 0;var i=r(1);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){a(r,t);var e=c(r);function r(t,n){var i;return o(this,r),(i=e.call(this,"Missing data [".concat(t,", ").concat(n,")"))).begin=t,i.end=n,i}return r}(i.BaseException);e.MissingDataException=l;var h=function(t){a(r,t);var e=c(r);function r(){return o(this,r),e.apply(this,arguments)}return r}(i.BaseException);e.XRefEntryException=h;var p=function(t){a(r,t);var e=c(r);function r(){return o(this,r),e.apply(this,arguments)}return r}(i.BaseException);e.XRefParseException=p;var d=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"]},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.ArithmeticDecoder=void 0;var i=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}],o=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.bp=r,this.dataEnd=n,this.chigh=e[r],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}var e,r,o;return e=t,(r=[{key:"byteIn",value:function(){var t=this.data,e=this.bp;255===t[e]?t[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=t[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?t[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}},{key:"readBit",value:function(t,e){var r,n=t[e]>>1,o=1&t[e],a=i[n],s=a.qe,c=this.a-s;if(this.chigh<s)c<s?(c=s,r=o,n=a.nmps):(c=s,r=1^o,1===a.switchFlag&&(o=r),n=a.nlps);else{if(this.chigh-=s,0!=(32768&c))return this.a=c,o;c<s?(r=1^o,1===a.switchFlag&&(o=r),n=a.nlps):(r=o,n=a.nmps)}do{0===this.ct&&this.byteIn(),c<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(0==(32768&c));return this.a=c,t[e]=n<<1|o,r}}])&&n(e.prototype,r),o&&n(e,o),t}();e.ArithmeticDecoder=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CCITTFaxDecoder=void 0;var n=r(1),i=function(){var t=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],e=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],r=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],i=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],o=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],a=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"function"!=typeof t.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=t,this.eof=!1,this.encoding=e.K||0,this.eoline=e.EndOfLine||!1,this.byteAlign=e.EncodedByteAlign||!1,this.columns=e.Columns||1728,this.rows=e.Rows||0;var r,n=e.EndOfBlock;for(null==n&&(n=!0),this.eoblock=n,this.black=e.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(r=this._lookBits(12));)this._eatBits(1);1===r&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}return s.prototype={readNextChar:function(){if(this.eof)return-1;var t,e,r,i,o,a=this.refLine,s=this.codingLine,c=this.columns;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;var u,f,l;if(this.err=!1,this.nextLine2D){for(i=0;s[i]<c;++i)a[i]=s[i];for(a[i++]=c,a[i]=c,s[0]=0,this.codingPos=0,t=0,e=0;s[this.codingPos]<c;)switch(u=this._getTwoDimCode()){case 0:this._addPixels(a[t+1],e),a[t+1]<c&&(t+=2);break;case 1:if(u=f=0,e){do{u+=l=this._getBlackCode()}while(l>=64);do{f+=l=this._getWhiteCode()}while(l>=64)}else{do{u+=l=this._getWhiteCode()}while(l>=64);do{f+=l=this._getBlackCode()}while(l>=64)}for(this._addPixels(s[this.codingPos]+u,e),s[this.codingPos]<c&&this._addPixels(s[this.codingPos]+f,1^e);a[t]<=s[this.codingPos]&&a[t]<c;)t+=2;break;case 7:if(this._addPixels(a[t]+3,e),e^=1,s[this.codingPos]<c)for(++t;a[t]<=s[this.codingPos]&&a[t]<c;)t+=2;break;case 5:if(this._addPixels(a[t]+2,e),e^=1,s[this.codingPos]<c)for(++t;a[t]<=s[this.codingPos]&&a[t]<c;)t+=2;break;case 3:if(this._addPixels(a[t]+1,e),e^=1,s[this.codingPos]<c)for(++t;a[t]<=s[this.codingPos]&&a[t]<c;)t+=2;break;case 2:if(this._addPixels(a[t],e),e^=1,s[this.codingPos]<c)for(++t;a[t]<=s[this.codingPos]&&a[t]<c;)t+=2;break;case 8:if(this._addPixelsNeg(a[t]-3,e),e^=1,s[this.codingPos]<c)for(t>0?--t:++t;a[t]<=s[this.codingPos]&&a[t]<c;)t+=2;break;case 6:if(this._addPixelsNeg(a[t]-2,e),e^=1,s[this.codingPos]<c)for(t>0?--t:++t;a[t]<=s[this.codingPos]&&a[t]<c;)t+=2;break;case 4:if(this._addPixelsNeg(a[t]-1,e),e^=1,s[this.codingPos]<c)for(t>0?--t:++t;a[t]<=s[this.codingPos]&&a[t]<c;)t+=2;break;case-1:this._addPixels(c,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(c,0),this.err=!0}}else for(s[0]=0,this.codingPos=0,e=0;s[this.codingPos]<c;){if(u=0,e)do{u+=l=this._getBlackCode()}while(l>=64);else do{u+=l=this._getWhiteCode()}while(l>=64);this._addPixels(s[this.codingPos]+u,e),e^=1}var h=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(u=this._lookBits(12),this.eoline)for(;-1!==u&&1!==u;)this._eatBits(1),u=this._lookBits(12);else for(;0===u;)this._eatBits(1),u=this._lookBits(12);1===u?(this._eatBits(12),h=!0):-1===u&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&h&&this.byteAlign){if(1===(u=this._lookBits(12))){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(i=0;i<4;++i)1!==(u=this._lookBits(12))&&(0,n.info)("bad rtc code: "+u),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(-1===(u=this._lookBits(13)))return this.eof=!0,-1;if(u>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&u))}s[0]>0?this.outputBits=s[this.codingPos=0]:this.outputBits=s[this.codingPos=1],this.row++}if(this.outputBits>=8)o=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&s[this.codingPos]<c&&(this.codingPos++,this.outputBits=s[this.codingPos]-s[this.codingPos-1]);else{r=8,o=0;do{this.outputBits>r?(o<<=r,1&this.codingPos||(o|=255>>8-r),this.outputBits-=r,r=0):(o<<=this.outputBits,1&this.codingPos||(o|=255>>8-this.outputBits),r-=this.outputBits,this.outputBits=0,s[this.codingPos]<c?(this.codingPos++,this.outputBits=s[this.codingPos]-s[this.codingPos-1]):r>0&&(o<<=r,r=0))}while(r)}return this.black&&(o^=255),o},_addPixels:function(t,e){var r=this.codingLine,i=this.codingPos;t>r[i]&&(t>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,t=this.columns),1&i^e&&++i,r[i]=t),this.codingPos=i},_addPixelsNeg:function(t,e){var r=this.codingLine,i=this.codingPos;if(t>r[i])t>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,t=this.columns),1&i^e&&++i,r[i]=t;else if(t<r[i]){for(t<0&&((0,n.info)("invalid code"),this.err=!0,t=0);i>0&&t<r[i-1];)--i;r[i]=t}this.codingPos=i},_findTableCode:function(t,e,r,n){for(var i=n||0,o=t;o<=e;++o){var a=this._lookBits(o);if(-1===a)return[!0,1,!1];if(o<e&&(a<<=e-o),!i||a>=i){var s=r[a-i];if(s[0]===o)return this._eatBits(o),[!0,s[1],!0]}}return[!1,0,!1]},_getTwoDimCode:function(){var e,r=0;if(this.eoblock){if(r=this._lookBits(7),(e=t[r])&&e[0]>0)return this._eatBits(e[0]),e[1]}else{var i=this._findTableCode(1,7,t);if(i[0]&&i[2])return i[1]}return(0,n.info)("Bad two dim code"),-1},_getWhiteCode:function(){var t,i=0;if(this.eoblock){if(-1===(i=this._lookBits(12)))return 1;if((t=i>>5==0?e[i]:r[i>>3])[0]>0)return this._eatBits(t[0]),t[1]}else{var o=this._findTableCode(1,9,r);if(o[0])return o[1];if((o=this._findTableCode(11,12,e))[0])return o[1]}return(0,n.info)("bad white code"),this._eatBits(1),1},_getBlackCode:function(){var t,e;if(this.eoblock){if(-1===(t=this._lookBits(13)))return 1;if((e=t>>7==0?i[t]:t>>9==0&&t>>7!=0?o[(t>>1)-64]:a[t>>7])[0]>0)return this._eatBits(e[0]),e[1]}else{var r=this._findTableCode(2,6,a);if(r[0])return r[1];if((r=this._findTableCode(7,12,o,64))[0])return r[1];if((r=this._findTableCode(10,13,i))[0])return r[1]}return(0,n.info)("bad black code"),this._eatBits(1),1},_lookBits:function(t){for(var e;this.inputBits<t;){if(-1===(e=this.source.next()))return 0===this.inputBits?-1:this.inputBuf<<t-this.inputBits&65535>>16-t;this.inputBuf=this.inputBuf<<8|e,this.inputBits+=8}return this.inputBuf>>this.inputBits-t&65535>>16-t},_eatBits:function(t){(this.inputBits-=t)<0&&(this.inputBits=0)}},s}();e.CCITTFaxDecoder=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JpegImage=void 0;var n=r(1),i=r(187);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function f(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){s(r,t);var e=u(r);function r(t){return a(this,r),e.call(this,"JPEG error: ".concat(t))}return r}(n.BaseException),p=function(t){s(r,t);var e=u(r);function r(t,n){var i;return a(this,r),(i=e.call(this,t)).scanLines=n,i}return r}(n.BaseException),d=function(t){s(r,t);var e=u(r);function r(){return a(this,r),e.apply(this,arguments)}return r}(n.BaseException),v=function(){var t=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.decodeTransform,r=void 0===e?null:e,n=t.colorTransform,i=void 0===n?-1:n;this._decodeTransform=r,this._colorTransform=i}function r(t,e){for(var r,n,i=0,o=[],a=16;a>0&&!t[a-1];)a--;o.push({children:[],index:0});var s,c=o[0];for(r=0;r<a;r++){for(n=0;n<t[r];n++){for((c=o.pop()).children[c.index]=e[i];c.index>0;)c=o.pop();for(c.index++,o.push(c);o.length<=r;)o.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s;i++}r+1<a&&(o.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s)}return o[0].children}function a(t,e,r){return 64*((t.blocksPerLine+1)*e+r)}function s(e,r,s,c,u,l,v,g,y){var m=arguments.length>9&&void 0!==arguments[9]&&arguments[9],b=s.mcusPerLine,x=s.progressive,w=r,S=0,T=0;function O(){if(T>0)return T--,S>>T&1;if(255===(S=e[r++])){var t=e[r++];if(t){if(220===t&&m){r+=2;var n=(0,i.readUint16)(e,r);if(r+=2,n>0&&n!==s.scanLines)throw new p("Found DNL marker (0xFFDC) while parsing scan data",n)}else if(217===t){if(m){var o=8*B;if(o>0&&o<s.scanLines/10)throw new p("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",o)}throw new d("Found EOI marker (0xFFD9) while parsing scan data")}throw new h("unexpected marker ".concat((S<<8|t).toString(16)))}}return T=7,S>>>7}function P(t){for(var e=t;;){switch(o(e=e[O()])){case"number":return e;case"object":continue}throw new h("invalid huffman sequence")}}function C(t){for(var e=0;t>0;)e=e<<1|O(),t--;return e}function k(t){if(1===t)return 1===O()?1:-1;var e=C(t);return e>=1<<t-1?e:e+(-1<<t)+1}function I(e,r){var n=P(e.huffmanTableDC),i=0===n?0:k(n);e.blockData[r]=e.pred+=i;for(var o=1;o<64;){var a=P(e.huffmanTableAC),s=15&a,c=a>>4;if(0!==s){var u=t[o+=c];e.blockData[r+u]=k(s),o++}else{if(c<15)break;o+=16}}}function A(t,e){var r=P(t.huffmanTableDC),n=0===r?0:k(r)<<y;t.blockData[e]=t.pred+=n}function E(t,e){t.blockData[e]|=O()<<y}var _=0;function R(e,r){if(_>0)_--;else for(var n=l,i=v;n<=i;){var o=P(e.huffmanTableAC),a=15&o,s=o>>4;if(0!==a){var c=t[n+=s];e.blockData[r+c]=k(a)*(1<<y),n++}else{if(s<15){_=C(s)+(1<<s)-1;break}n+=16}}}var L,M=0;function D(e,r){for(var n,i,o=l,a=v,s=0;o<=a;){var c=r+t[o],u=e.blockData[c]<0?-1:1;switch(M){case 0:if(s=(i=P(e.huffmanTableAC))>>4,0===(n=15&i))s<15?(_=C(s)+(1<<s),M=4):(s=16,M=1);else{if(1!==n)throw new h("invalid ACn encoding");L=k(n),M=s?2:3}continue;case 1:case 2:e.blockData[c]?e.blockData[c]+=u*(O()<<y):0===--s&&(M=2===M?3:0);break;case 3:e.blockData[c]?e.blockData[c]+=u*(O()<<y):(e.blockData[c]=L<<y,M=0);break;case 4:e.blockData[c]&&(e.blockData[c]+=u*(O()<<y))}o++}4===M&&0===--_&&(M=0)}var B=0;function U(t,e,r,n,i){var o=r%b;B=(r/b|0)*t.v+n;var s=o*t.h+i;e(t,a(t,B,s))}function j(t,e,r){B=r/t.blocksPerLine|0;var n=r%t.blocksPerLine;e(t,a(t,B,n))}var F,N,z,Y,X,W,H=c.length;W=x?0===l?0===g?A:E:0===g?R:D:I;var q,G,V,J,K=0;for(G=1===H?c[0].blocksPerLine*c[0].blocksPerColumn:b*s.mcusPerColumn;K<=G;){var Q=u?Math.min(G-K,u):G;if(Q>0){for(N=0;N<H;N++)c[N].pred=0;if(_=0,1===H)for(F=c[0],X=0;X<Q;X++)j(F,W,K),K++;else for(X=0;X<Q;X++){for(N=0;N<H;N++)for(V=(F=c[N]).h,J=F.v,z=0;z<J;z++)for(Y=0;Y<V;Y++)U(F,W,K,z,Y);K++}}if(T=0,!(q=f(e,r)))break;if(q.invalid){var Z=Q>0?"unexpected":"excessive";(0,n.warn)("decodeScan - ".concat(Z," MCU data, current marker is: ").concat(q.invalid)),r=q.offset}if(!(q.marker>=65488&&q.marker<=65495))break;r+=2}return r-w}function c(t,e,r){var n,i,o,a,s,c,u,f,l,p,d,v,g,y,m,b,x,w=t.quantizationTable,S=t.blockData;if(!w)throw new h("missing required Quantization Table.");for(var T=0;T<64;T+=8)l=S[e+T],p=S[e+T+1],d=S[e+T+2],v=S[e+T+3],g=S[e+T+4],y=S[e+T+5],m=S[e+T+6],b=S[e+T+7],l*=w[T],0!=(p|d|v|g|y|m|b)?(p*=w[T+1],d*=w[T+2],v*=w[T+3],g*=w[T+4],y*=w[T+5],i=(n=(n=5793*l+128>>8)+(i=5793*g+128>>8)+1>>1)-i,x=3784*(o=d)+1567*(a=m*=w[T+6])+128>>8,o=1567*o-3784*a+128>>8,u=(s=(s=2896*(p-(b*=w[T+7]))+128>>8)+(u=y<<4)+1>>1)-u,c=(f=(f=2896*(p+b)+128>>8)+(c=v<<4)+1>>1)-c,a=(n=n+(a=x)+1>>1)-a,o=(i=i+o+1>>1)-o,x=2276*s+3406*f+2048>>12,s=3406*s-2276*f+2048>>12,f=x,x=799*c+4017*u+2048>>12,c=4017*c-799*u+2048>>12,u=x,r[T]=n+f,r[T+7]=n-f,r[T+1]=i+u,r[T+6]=i-u,r[T+2]=o+c,r[T+5]=o-c,r[T+3]=a+s,r[T+4]=a-s):(x=5793*l+512>>10,r[T]=x,r[T+1]=x,r[T+2]=x,r[T+3]=x,r[T+4]=x,r[T+5]=x,r[T+6]=x,r[T+7]=x);for(var O=0;O<8;++O)l=r[O],0!=((p=r[O+8])|(d=r[O+16])|(v=r[O+24])|(g=r[O+32])|(y=r[O+40])|(m=r[O+48])|(b=r[O+56]))?(i=(n=4112+((n=5793*l+2048>>12)+(i=5793*g+2048>>12)+1>>1))-i,x=3784*(o=d)+1567*(a=m)+2048>>12,o=1567*o-3784*a+2048>>12,a=x,u=(s=(s=2896*(p-b)+2048>>12)+(u=y)+1>>1)-u,c=(f=(f=2896*(p+b)+2048>>12)+(c=v)+1>>1)-c,x=2276*s+3406*f+2048>>12,s=3406*s-2276*f+2048>>12,f=x,x=799*c+4017*u+2048>>12,c=4017*c-799*u+2048>>12,(l=(n=n+a+1>>1)+f)<16?l=0:l>=4080?l=255:l>>=4,(p=(i=i+o+1>>1)+(u=x))<16?p=0:p>=4080?p=255:p>>=4,(d=(o=i-o)+c)<16?d=0:d>=4080?d=255:d>>=4,(v=(a=n-a)+s)<16?v=0:v>=4080?v=255:v>>=4,(g=a-s)<16?g=0:g>=4080?g=255:g>>=4,(y=o-c)<16?y=0:y>=4080?y=255:y>>=4,(m=i-u)<16?m=0:m>=4080?m=255:m>>=4,(b=n-f)<16?b=0:b>=4080?b=255:b>>=4,S[e+O]=l,S[e+O+8]=p,S[e+O+16]=d,S[e+O+24]=v,S[e+O+32]=g,S[e+O+40]=y,S[e+O+48]=m,S[e+O+56]=b):(x=(x=5793*l+8192>>14)<-2040?0:x>=2024?255:x+2056>>4,S[e+O]=x,S[e+O+8]=x,S[e+O+16]=x,S[e+O+24]=x,S[e+O+32]=x,S[e+O+40]=x,S[e+O+48]=x,S[e+O+56]=x)}function u(t,e){for(var r=e.blocksPerLine,n=e.blocksPerColumn,i=new Int16Array(64),o=0;o<n;o++)for(var s=0;s<r;s++){c(e,a(e,o,s),i)}return e.blockData}function f(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=t.length-1,o=r<e?r:e;if(e>=n)return null;var a=(0,i.readUint16)(t,e);if(a>=65472&&a<=65534)return{invalid:null,marker:a,offset:e};for(var s=(0,i.readUint16)(t,o);!(s>=65472&&s<=65534);){if(++o>=n)return null;s=(0,i.readUint16)(t,o)}return{invalid:a.toString(16),marker:s,offset:o}}return e.prototype={parse:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.dnlScanLines,c=void 0===a?null:a;function l(){var t=(0,i.readUint16)(e,m),r=(m+=2)+t-2,o=f(e,r,m);o&&o.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+o.invalid),r=o.offset);var a=e.subarray(m,r);return m+=a.length,a}function v(t){for(var e=Math.ceil(t.samplesPerLine/8/t.maxH),r=Math.ceil(t.scanLines/8/t.maxV),n=0;n<t.components.length;n++){V=t.components[n];var i=Math.ceil(Math.ceil(t.samplesPerLine/8)*V.h/t.maxH),o=Math.ceil(Math.ceil(t.scanLines/8)*V.v/t.maxV),a=e*V.h,s=64*(r*V.v)*(a+1);V.blockData=new Int16Array(s),V.blocksPerLine=i,V.blocksPerColumn=o}t.mcusPerLine=e,t.mcusPerColumn=r}var g,y,m=0,b=null,x=null,w=0,S=[],T=[],O=[],P=(0,i.readUint16)(e,m);if(m+=2,65496!==P)throw new h("SOI not found");P=(0,i.readUint16)(e,m),m+=2;t:for(;65497!==P;){var C,k,I;switch(P){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var A=l();65504===P&&74===A[0]&&70===A[1]&&73===A[2]&&70===A[3]&&0===A[4]&&(b={version:{major:A[5],minor:A[6]},densityUnits:A[7],xDensity:A[8]<<8|A[9],yDensity:A[10]<<8|A[11],thumbWidth:A[12],thumbHeight:A[13],thumbData:A.subarray(14,14+3*A[12]*A[13])}),65518===P&&65===A[0]&&100===A[1]&&111===A[2]&&98===A[3]&&101===A[4]&&(x={version:A[5]<<8|A[6],flags0:A[7]<<8|A[8],flags1:A[9]<<8|A[10],transformCode:A[11]});break;case 65499:for(var E=(0,i.readUint16)(e,m),_=E+(m+=2)-2;m<_;){var R=e[m++],L=new Uint16Array(64);if(R>>4==0)for(k=0;k<64;k++)L[t[k]]=e[m++];else{if(R>>4!=1)throw new h("DQT - invalid table spec");for(k=0;k<64;k++)L[t[k]]=(0,i.readUint16)(e,m),m+=2}S[15&R]=L}break;case 65472:case 65473:case 65474:if(g)throw new h("Only single frame JPEGs supported");m+=2,(g={}).extended=65473===P,g.progressive=65474===P,g.precision=e[m++];var M=(0,i.readUint16)(e,m);m+=2,g.scanLines=c||M,g.samplesPerLine=(0,i.readUint16)(e,m),m+=2,g.components=[],g.componentIds={};var D,B=e[m++],U=0,j=0;for(C=0;C<B;C++){D=e[m];var F=e[m+1]>>4,N=15&e[m+1];U<F&&(U=F),j<N&&(j=N);var z=e[m+2];I=g.components.push({h:F,v:N,quantizationId:z,quantizationTable:null}),g.componentIds[D]=I-1,m+=3}g.maxH=U,g.maxV=j,v(g);break;case 65476:var Y=(0,i.readUint16)(e,m);for(m+=2,C=2;C<Y;){var X=e[m++],W=new Uint8Array(16),H=0;for(k=0;k<16;k++,m++)H+=W[k]=e[m];var q=new Uint8Array(H);for(k=0;k<H;k++,m++)q[k]=e[m];C+=17+H,(X>>4==0?O:T)[15&X]=r(W,q)}break;case 65501:m+=2,y=(0,i.readUint16)(e,m),m+=2;break;case 65498:var G=1==++w&&!c;m+=2;var V,J=e[m++],K=[];for(C=0;C<J;C++){var Q=g.componentIds[e[m++]];V=g.components[Q];var Z=e[m++];V.huffmanTableDC=O[Z>>4],V.huffmanTableAC=T[15&Z],K.push(V)}var $=e[m++],tt=e[m++],et=e[m++];try{var rt=s(e,m,g,K,y,$,tt,et>>4,15&et,G);m+=rt}catch(t){if(t instanceof p)return(0,n.warn)("".concat(t.message," -- attempting to re-parse the JPEG image.")),this.parse(e,{dnlScanLines:t.scanLines});if(t instanceof d){(0,n.warn)("".concat(t.message," -- ignoring the rest of the image data."));break t}throw t}break;case 65500:m+=4;break;case 65535:255!==e[m]&&m--;break;default:var nt=f(e,m-2,m-3);if(nt&&nt.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+nt.invalid),m=nt.offset;break}if(m>=e.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break t}throw new h("JpegImage.parse - unknown marker: "+P.toString(16))}P=(0,i.readUint16)(e,m),m+=2}for(this.width=g.samplesPerLine,this.height=g.scanLines,this.jfif=b,this.adobe=x,this.components=[],C=0;C<g.components.length;C++){var it=S[(V=g.components[C]).quantizationId];it&&(V.quantizationTable=it),this.components.push({output:u(0,V),scaleX:V.h/g.maxH,scaleY:V.v/g.maxV,blocksPerLine:V.blocksPerLine,blocksPerColumn:V.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(t,e){var r,n,i,o,a,s,c,u,f,l,h,p,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],v=this.width/t,g=this.height/e,y=0,m=this.components.length,b=t*e*m,x=new Uint8ClampedArray(b),w=new Uint32Array(t),S=4294967288;for(c=0;c<m;c++){if(n=(r=this.components[c]).scaleX*v,i=r.scaleY*g,y=c,h=r.output,o=r.blocksPerLine+1<<3,n!==p){for(a=0;a<t;a++)u=0|a*n,w[a]=(u&S)<<3|7&u;p=n}for(s=0;s<e;s++)for(l=o*((u=0|s*i)&S)|(7&u)<<3,a=0;a<t;a++)x[y]=h[l+w[a]],y+=m}var T=this._decodeTransform;if(d||4!==m||T||(T=new Int32Array([-256,255,-256,255,-256,255,-256,255])),T)for(c=0;c<b;)for(u=0,f=0;u<m;u++,c++,f+=2)x[c]=(x[c]*T[f]>>8)+T[f+1];return x},get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform:1===this._colorTransform},_convertYccToRgb:function(t){for(var e,r,n,i=0,o=t.length;i<o;i+=3)e=t[i],r=t[i+1],n=t[i+2],t[i]=e-179.456+1.402*n,t[i+1]=e+135.459-.344*r-.714*n,t[i+2]=e-226.816+1.772*r;return t},_convertYcckToRgb:function(t){for(var e,r,n,i,o=0,a=0,s=t.length;a<s;a+=4)e=t[a],r=t[a+1],n=t[a+2],i=t[a+3],t[o++]=r*(-660635669420364e-19*r+.000437130475926232*n-54080610064599e-18*e+.00048449797120281*i-.154362151871126)-122.67195406894+n*(-.000957964378445773*n+.000817076911346625*e-.00477271405408747*i+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),t[o++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*n+.000659397001245577*e+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*e+.000770482631801132*i-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),t[o++]=r*(-.000570115196973677*r-263409051004589e-19*n+.0020741088115012*e-.00288260236853442*i+.814272968359295)-20.810012546947+n*(-153496057440975e-19*n-.000132689043961446*e+.000560833691242812*i-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return t.subarray(0,o)},_convertYcckToCmyk:function(t){for(var e,r,n,i=0,o=t.length;i<o;i+=4)e=t[i],r=t[i+1],n=t[i+2],t[i]=434.456-e-1.402*n,t[i+1]=119.541-e+.344*r+.714*n,t[i+2]=481.816-e-1.772*r;return t},_convertCmykToRgb:function(t){for(var e,r,n,i,o=0,a=0,s=t.length;a<s;a+=4)e=t[a],r=t[a+1],n=t[a+2],i=t[a+3],t[o++]=255+e*(-6747147073602441e-20*e+.0008379262121013727*r+.0002894718188643294*n+.003264231057537806*i-1.1185611867203937)+r*(26374107616089405e-21*r-8626949158638572e-20*n-.0002748769067499491*i-.02155688794978967)+n*(-3878099212869363e-20*n-.0003267808279485286*i+.0686742238595345)-i*(.0003361971776183937*i+.7430659151342254),t[o++]=255+e*(.00013596372813588848*e+.000924537132573585*r+.00010567359618683593*n+.0004791864687436512*i-.3109689587515875)+r*(-.00023545346108370344*r+.0002702845253534714*n+.0020200308977307156*i-.7488052167015494)+n*(6834815998235662e-20*n+.00015168452363460973*i-.09751927774728933)-i*(.0003189131175883281*i+.7364883807733168),t[o++]=255+e*(13598650411385307e-21*e+.00012423956175490851*r+.0004751985097583589*n-36729317476630422e-22*i-.05562186980264034)+r*(.00016141380598724676*r+.0009692239130725186*n+.0007782692450036253*i-.44015232367526463)+n*(5.068882914068769e-7*n+.0017778369011375071*i-.7591454649749609)-i*(.0003435319965105553*i+.7063770186160144);return t.subarray(0,o)},getData:function(t){var e=t.width,r=t.height,n=t.forceRGB,i=void 0!==n&&n,o=t.isSourcePDF,a=void 0!==o&&o;if(this.numComponents>4)throw new h("Unsupported color mode");var s=this._getLinearizedBlockData(e,r,a);if(1===this.numComponents&&i){for(var c=s.length,u=new Uint8ClampedArray(3*c),f=0,l=0;l<c;l++){var p=s[l];u[f++]=p,u[f++]=p,u[f++]=p}return u}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(s);if(4===this.numComponents){if(this._isColorConversionNeeded)return i?this._convertYcckToRgb(s):this._convertYcckToCmyk(s);if(i)return this._convertCmykToRgb(s)}return s}},e}();e.JpegImage=v},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.JpxImage=void 0;var i=r(1),o=r(187),a=r(188);function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(r,t);var e=c(r);function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e.call(this,"JPX error: ".concat(t))}return r}(i.BaseException),h=function(){var t={LL:0,LH:1,HL:1,HH:2};function e(){this.failOnCorruptedImage=!1}function r(t,e){t.x0=Math.ceil(e.XOsiz/t.XRsiz),t.x1=Math.ceil(e.Xsiz/t.XRsiz),t.y0=Math.ceil(e.YOsiz/t.YRsiz),t.y1=Math.ceil(e.Ysiz/t.YRsiz),t.width=t.x1-t.x0,t.height=t.y1-t.y0}function n(t,e){for(var r,n=t.SIZ,i=[],o=Math.ceil((n.Xsiz-n.XTOsiz)/n.XTsiz),a=Math.ceil((n.Ysiz-n.YTOsiz)/n.YTsiz),s=0;s<a;s++)for(var c=0;c<o;c++)(r={}).tx0=Math.max(n.XTOsiz+c*n.XTsiz,n.XOsiz),r.ty0=Math.max(n.YTOsiz+s*n.YTsiz,n.YOsiz),r.tx1=Math.min(n.XTOsiz+(c+1)*n.XTsiz,n.Xsiz),r.ty1=Math.min(n.YTOsiz+(s+1)*n.YTsiz,n.Ysiz),r.width=r.tx1-r.tx0,r.height=r.ty1-r.ty0,r.components=[],i.push(r);t.tiles=i;for(var u=0,f=n.Csiz;u<f;u++)for(var l=e[u],h=0,p=i.length;h<p;h++){var d={};r=i[h],d.tcx0=Math.ceil(r.tx0/l.XRsiz),d.tcy0=Math.ceil(r.ty0/l.YRsiz),d.tcx1=Math.ceil(r.tx1/l.XRsiz),d.tcy1=Math.ceil(r.ty1/l.YRsiz),d.width=d.tcx1-d.tcx0,d.height=d.tcy1-d.tcy0,r.components[u]=d}}function s(t,e,r){var n=e.codingStyleParameters,i={};return n.entropyCoderWithCustomPrecincts?(i.PPx=n.precinctsSizes[r].PPx,i.PPy=n.precinctsSizes[r].PPy):(i.PPx=15,i.PPy=15),i.xcb_=r>0?Math.min(n.xcb,i.PPx-1):Math.min(n.xcb,i.PPx),i.ycb_=r>0?Math.min(n.ycb,i.PPy-1):Math.min(n.ycb,i.PPy),i}function c(t,e,r){var n=1<<r.PPx,i=1<<r.PPy,o=0===e.resLevel,a=1<<r.PPx+(o?0:-1),s=1<<r.PPy+(o?0:-1),c=e.trx1>e.trx0?Math.ceil(e.trx1/n)-Math.floor(e.trx0/n):0,u=e.try1>e.try0?Math.ceil(e.try1/i)-Math.floor(e.try0/i):0,f=c*u;e.precinctParameters={precinctWidth:n,precinctHeight:i,numprecinctswide:c,numprecinctshigh:u,numprecincts:f,precinctWidthInSubband:a,precinctHeightInSubband:s}}function u(t,e,r){var n,i,o,a,s=r.xcb_,c=r.ycb_,u=1<<s,f=1<<c,l=e.tbx0>>s,h=e.tby0>>c,p=e.tbx1+u-1>>s,d=e.tby1+f-1>>c,v=e.resolution.precinctParameters,g=[],y=[];for(i=h;i<d;i++)for(n=l;n<p;n++){if((o={cbx:n,cby:i,tbx0:u*n,tby0:f*i,tbx1:u*(n+1),tby1:f*(i+1)}).tbx0_=Math.max(e.tbx0,o.tbx0),o.tby0_=Math.max(e.tby0,o.tby0),o.tbx1_=Math.min(e.tbx1,o.tbx1),o.tby1_=Math.min(e.tby1,o.tby1),a=Math.floor((o.tbx0_-e.tbx0)/v.precinctWidthInSubband)+Math.floor((o.tby0_-e.tby0)/v.precinctHeightInSubband)*v.numprecinctswide,o.precinctNumber=a,o.subbandType=e.type,o.Lblock=3,!(o.tbx1_<=o.tbx0_||o.tby1_<=o.tby0_)){g.push(o);var m=y[a];void 0!==m?(n<m.cbxMin?m.cbxMin=n:n>m.cbxMax&&(m.cbxMax=n),i<m.cbyMin?m.cbxMin=i:i>m.cbyMax&&(m.cbyMax=i)):y[a]=m={cbxMin:n,cbyMin:i,cbxMax:n,cbyMax:i},o.precinct=m}}e.codeblockParameters={codeblockWidth:s,codeblockHeight:c,numcodeblockwide:p-l+1,numcodeblockhigh:d-h+1},e.codeblocks=g,e.precincts=y}function f(t,e,r){for(var n=[],i=t.subbands,o=0,a=i.length;o<a;o++)for(var s=i[o].codeblocks,c=0,u=s.length;c<u;c++){var f=s[c];f.precinctNumber===e&&n.push(f)}return{layerNumber:r,codeblocks:n}}function h(t){for(var e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz,a=0,s=0;s<o;s++)a=Math.max(a,n.components[s].codingStyleParameters.decompositionLevelsCount);var c=0,u=0,h=0,p=0;this.nextPacket=function(){for(;c<i;c++){for(;u<=a;u++){for(;h<o;h++){var t=n.components[h];if(!(u>t.codingStyleParameters.decompositionLevelsCount)){for(var e=t.resolutions[u],r=e.precinctParameters.numprecincts;p<r;){var s=f(e,p,c);return p++,s}p=0}}h=0}u=0}throw new l("Out of packets")}}function p(t){for(var e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz,a=0,s=0;s<o;s++)a=Math.max(a,n.components[s].codingStyleParameters.decompositionLevelsCount);var c=0,u=0,h=0,p=0;this.nextPacket=function(){for(;c<=a;c++){for(;u<i;u++){for(;h<o;h++){var t=n.components[h];if(!(c>t.codingStyleParameters.decompositionLevelsCount)){for(var e=t.resolutions[c],r=e.precinctParameters.numprecincts;p<r;){var s=f(e,p,u);return p++,s}p=0}}h=0}u=0}throw new l("Out of packets")}}function d(t){var e,r,n,i,o=t.SIZ,a=t.currentTile.index,s=t.tiles[a],c=s.codingStyleDefaultParameters.layersCount,u=o.Csiz,h=0;for(n=0;n<u;n++){var p=s.components[n];h=Math.max(h,p.codingStyleParameters.decompositionLevelsCount)}var d=new Int32Array(h+1);for(r=0;r<=h;++r){var v=0;for(n=0;n<u;++n){var g=s.components[n].resolutions;r<g.length&&(v=Math.max(v,g[r].precinctParameters.numprecincts))}d[r]=v}e=0,r=0,n=0,i=0,this.nextPacket=function(){for(;r<=h;r++){for(;i<d[r];i++){for(;n<u;n++){var t=s.components[n];if(!(r>t.codingStyleParameters.decompositionLevelsCount)){var o=t.resolutions[r],a=o.precinctParameters.numprecincts;if(!(i>=a)){for(;e<c;){var p=f(o,i,e);return e++,p}e=0}}}n=0}i=0}throw new l("Out of packets")}}function v(t){var e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz,a=m(n),s=a,c=0,u=0,h=0,p=0,d=0;this.nextPacket=function(){for(;d<s.maxNumHigh;d++){for(;p<s.maxNumWide;p++){for(;h<o;h++){for(var t=n.components[h],e=t.codingStyleParameters.decompositionLevelsCount;u<=e;u++){var r=t.resolutions[u],v=a.components[h].resolutions[u],g=y(p,d,v,s,r);if(null!==g){for(;c<i;){var m=f(r,g,c);return c++,m}c=0}}u=0}h=0}p=0}throw new l("Out of packets")}}function g(t){var e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=n.codingStyleDefaultParameters.layersCount,o=e.Csiz,a=m(n),s=0,c=0,u=0,h=0,p=0;this.nextPacket=function(){for(;u<o;++u){for(var t=n.components[u],e=a.components[u],r=t.codingStyleParameters.decompositionLevelsCount;p<e.maxNumHigh;p++){for(;h<e.maxNumWide;h++){for(;c<=r;c++){var d=t.resolutions[c],v=e.resolutions[c],g=y(h,p,v,e,d);if(null!==g){for(;s<i;){var m=f(d,g,s);return s++,m}s=0}}c=0}h=0}p=0}throw new l("Out of packets")}}function y(t,e,r,n,i){var o=t*n.minWidth,a=e*n.minHeight;if(o%r.width!=0||a%r.height!=0)return null;var s=a/r.width*i.precinctParameters.numprecinctswide;return o/r.height+s}function m(t){for(var e=t.components.length,r=Number.MAX_VALUE,n=Number.MAX_VALUE,i=0,o=0,a=new Array(e),s=0;s<e;s++){for(var c=t.components[s],u=c.codingStyleParameters.decompositionLevelsCount,f=new Array(u+1),l=Number.MAX_VALUE,h=Number.MAX_VALUE,p=0,d=0,v=1,g=u;g>=0;--g){var y=c.resolutions[g],m=v*y.precinctParameters.precinctWidth,b=v*y.precinctParameters.precinctHeight;l=Math.min(l,m),h=Math.min(h,b),p=Math.max(p,y.precinctParameters.numprecinctswide),d=Math.max(d,y.precinctParameters.numprecinctshigh),f[g]={width:m,height:b},v<<=1}r=Math.min(r,l),n=Math.min(n,h),i=Math.max(i,p),o=Math.max(o,d),a[s]={resolutions:f,minWidth:l,minHeight:h,maxNumWide:p,maxNumHigh:d}}return{components:a,minWidth:r,minHeight:n,maxNumWide:i,maxNumHigh:o}}function b(t){for(var e=t.SIZ,r=t.currentTile.index,n=t.tiles[r],i=e.Csiz,o=0;o<i;o++){for(var a=n.components[o],f=a.codingStyleParameters.decompositionLevelsCount,y=[],m=[],b=0;b<=f;b++){var x,w=s(0,a,b),S={},T=1<<f-b;if(S.trx0=Math.ceil(a.tcx0/T),S.try0=Math.ceil(a.tcy0/T),S.trx1=Math.ceil(a.tcx1/T),S.try1=Math.ceil(a.tcy1/T),S.resLevel=b,c(0,S,w),y.push(S),0===b)(x={}).type="LL",x.tbx0=Math.ceil(a.tcx0/T),x.tby0=Math.ceil(a.tcy0/T),x.tbx1=Math.ceil(a.tcx1/T),x.tby1=Math.ceil(a.tcy1/T),x.resolution=S,u(0,x,w),m.push(x),S.subbands=[x];else{var O=1<<f-b+1,P=[];(x={}).type="HL",x.tbx0=Math.ceil(a.tcx0/O-.5),x.tby0=Math.ceil(a.tcy0/O),x.tbx1=Math.ceil(a.tcx1/O-.5),x.tby1=Math.ceil(a.tcy1/O),x.resolution=S,u(0,x,w),m.push(x),P.push(x),(x={}).type="LH",x.tbx0=Math.ceil(a.tcx0/O),x.tby0=Math.ceil(a.tcy0/O-.5),x.tbx1=Math.ceil(a.tcx1/O),x.tby1=Math.ceil(a.tcy1/O-.5),x.resolution=S,u(0,x,w),m.push(x),P.push(x),(x={}).type="HH",x.tbx0=Math.ceil(a.tcx0/O-.5),x.tby0=Math.ceil(a.tcy0/O-.5),x.tbx1=Math.ceil(a.tcx1/O-.5),x.tby1=Math.ceil(a.tcy1/O-.5),x.resolution=S,u(0,x,w),m.push(x),P.push(x),S.subbands=P}}a.resolutions=y,a.subbands=m}var C=n.codingStyleDefaultParameters.progressionOrder;switch(C){case 0:n.packetsIterator=new h(t);break;case 1:n.packetsIterator=new p(t);break;case 2:n.packetsIterator=new d(t);break;case 3:n.packetsIterator=new v(t);break;case 4:n.packetsIterator=new g(t);break;default:throw new l("Unsupported progression order ".concat(C))}}function x(t,e,r,n){var i,a=0,s=0,c=!1;function u(t){for(;s<t;){var n=e[r+a];a++,c?(i=i<<7|n,s+=7,c=!1):(i=i<<8|n,s+=8),255===n&&(c=!0)}return i>>>(s-=t)&(1<<t)-1}function f(t){return 255===e[r+a-1]&&e[r+a]===t?(l(1),!0):255===e[r+a]&&e[r+a+1]===t&&(l(2),!0)}function l(t){a+=t}function h(){s=0,c&&(a++,c=!1)}function p(){if(0===u(1))return 1;if(0===u(1))return 2;var t=u(2);return t<3?t+3:(t=u(5))<31?t+6:(t=u(7))+37}for(var d=t.currentTile.index,v=t.tiles[d],g=t.COD.sopMarkerUsed,y=t.COD.ephMarkerUsed,m=v.packetsIterator;a<n;){h(),g&&f(145)&&l(4);var b=m.nextPacket();if(u(1)){for(var x,w=b.layerNumber,S=[],T=0,C=b.codeblocks.length;T<C;T++){var k=(x=b.codeblocks[T]).precinct,I=x.cbx-k.cbxMin,A=x.cby-k.cbyMin,E=!1,_=!1;if(void 0!==x.included)E=!!u(1);else{var R,L;if(void 0!==(k=x.precinct).inclusionTree)R=k.inclusionTree;else{var M=k.cbxMax-k.cbxMin+1,D=k.cbyMax-k.cbyMin+1;R=new P(M,D,w),L=new O(M,D),k.inclusionTree=R,k.zeroBitPlanesTree=L}if(R.reset(I,A,w))for(;;){if(!u(1)){R.incrementValue(w);break}if(!R.nextLevel()){x.included=!0,E=_=!0;break}}}if(E){if(_){for((L=k.zeroBitPlanesTree).reset(I,A);;)if(u(1)){if(!L.nextLevel())break}else L.incrementValue();x.zeroBitPlanes=L.value}for(var B=p();u(1);)x.Lblock++;var U=(0,o.log2)(B),j=u((B<1<<U?U-1:U)+x.Lblock);S.push({codeblock:x,codingpasses:B,dataLength:j})}}for(h(),y&&f(146);S.length>0;){var F=S.shift();void 0===(x=F.codeblock).data&&(x.data=[]),x.data.push({data:e,start:r+a,end:r+a+F.dataLength,codingpasses:F.codingpasses}),a+=F.dataLength}}}return a}function w(t,e,r,n,i,o,s,c){for(var u=n.tbx0,f=n.tby0,l=n.tbx1-n.tbx0,h=n.codeblocks,p="H"===n.type.charAt(0)?1:0,d="H"===n.type.charAt(1)?e:0,v=0,g=h.length;v<g;++v){var y=h[v],m=y.tbx1_-y.tbx0_,b=y.tby1_-y.tby0_;if(0!==m&&0!==b&&void 0!==y.data){var x,w;x=new C(m,b,y.subbandType,y.zeroBitPlanes,o),w=2;var S,T,O,P=y.data,k=0,I=0;for(S=0,T=P.length;S<T;S++)k+=(O=P[S]).end-O.start,I+=O.codingpasses;var A=new Uint8Array(k),E=0;for(S=0,T=P.length;S<T;S++){var _=(O=P[S]).data.subarray(O.start,O.end);A.set(_,E),E+=_.length}var R=new a.ArithmeticDecoder(A,0,k);for(x.setDecoder(R),S=0;S<I;S++){switch(w){case 0:x.runSignificancePropagationPass();break;case 1:x.runMagnitudeRefinementPass();break;case 2:x.runCleanupPass(),c&&x.checkSegmentationSymbol()}w=(w+1)%3}var L,M,D,B=y.tbx0_-u+(y.tby0_-f)*l,U=x.coefficentsSign,j=x.coefficentsMagnitude,F=x.bitsDecoded,N=s?0:.5;E=0;var z="LL"!==n.type;for(S=0;S<b;S++){var Y=2*(B/l|0)*(e-l)+p+d;for(L=0;L<m;L++){if(0!==(M=j[E])){M=(M+N)*i,0!==U[E]&&(M=-M),D=F[E];var X=z?Y+(B<<1):B;t[X]=s&&D>=o?M:M*(1<<o-D)}B++,E++}B+=l-m}}}}function S(e,r,n){for(var i=r.components[n],o=i.codingStyleParameters,a=i.quantizationParameters,s=o.decompositionLevelsCount,c=a.SPqcds,u=a.scalarExpounded,f=a.guardBits,l=o.segmentationSymbolUsed,h=e.components[n].precision,p=o.reversibleTransformation,d=p?new A:new I,v=[],g=0,y=0;y<=s;y++){for(var m=i.resolutions[y],b=m.trx1-m.trx0,x=m.try1-m.try0,S=new Float32Array(b*x),T=0,O=m.subbands.length;T<O;T++){var P,C;u?(P=c[g].mu,C=c[g].epsilon,g++):(P=c[0].mu,C=c[0].epsilon+(y>0?1-y:0));var k=m.subbands[T],E=t[k.type];w(S,b,0,k,p?1:Math.pow(2,h+E-C)*(1+P/2048),f+C-1,p,l)}v.push({width:b,height:x,items:S})}var _=d.calculate(v,i.tcx0,i.tcy0);return{left:i.tcx0,top:i.tcy0,width:_.width,height:_.height,items:_.items}}function T(t,e){for(var r=t.SIZ.Csiz,n=t.tiles[e],i=0;i<r;i++){var o=n.components[i],a=void 0!==t.currentTile.QCC[i]?t.currentTile.QCC[i]:t.currentTile.QCD;o.quantizationParameters=a;var s=void 0!==t.currentTile.COC[i]?t.currentTile.COC[i]:t.currentTile.COD;o.codingStyleParameters=s}n.codingStyleDefaultParameters=t.currentTile.COD}e.prototype={parse:function(t){if(65359!==(0,o.readUint16)(t,0))for(var e=0,r=t.length;e<r;){var n=8,a=(0,o.readUint32)(t,e),s=(0,o.readUint32)(t,e+4);if(e+=n,1===a&&(a=4294967296*(0,o.readUint32)(t,e)+(0,o.readUint32)(t,e+4),e+=8,n+=8),0===a&&(a=r-e+n),a<n)throw new l("Invalid box field size");var c=a-n,u=!0;switch(s){case 1785737832:u=!1;break;case 1668246642:var f=t[e];if(1===f){var h=(0,o.readUint32)(t,e+3);switch(h){case 16:case 17:case 18:break;default:(0,i.warn)("Unknown colorspace "+h)}}else 2===f&&(0,i.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(t,e,e+c);break;case 1783636e3:218793738!==(0,o.readUint32)(t,e)&&(0,i.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var p=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);(0,i.warn)("Unsupported header type "+s+" ("+p+")")}u&&(e+=c)}else this.parseCodestream(t,0,t.length)},parseImageProperties:function(t){for(var e=t.getByte();e>=0;){if(65361===(e<<8|(e=t.getByte()))){t.skip(4);var r=t.getInt32()>>>0,n=t.getInt32()>>>0,i=t.getInt32()>>>0,o=t.getInt32()>>>0;t.skip(16);var a=t.getUint16();return this.width=r-i,this.height=n-o,this.componentsCount=a,void(this.bitsPerComponent=8)}}throw new l("No size marker found in JPX stream")},parseCodestream:function(t,e,a){var s={},c=!1;try{for(var u=e;u+1<a;){var f=(0,o.readUint16)(t,u);u+=2;var h,p,d,v,g,y,m=0;switch(f){case 65359:s.mainHeader=!0;break;case 65497:break;case 65361:m=(0,o.readUint16)(t,u);var w={};w.Xsiz=(0,o.readUint32)(t,u+4),w.Ysiz=(0,o.readUint32)(t,u+8),w.XOsiz=(0,o.readUint32)(t,u+12),w.YOsiz=(0,o.readUint32)(t,u+16),w.XTsiz=(0,o.readUint32)(t,u+20),w.YTsiz=(0,o.readUint32)(t,u+24),w.XTOsiz=(0,o.readUint32)(t,u+28),w.YTOsiz=(0,o.readUint32)(t,u+32);var O=(0,o.readUint16)(t,u+36);w.Csiz=O;var P=[];h=u+38;for(var C=0;C<O;C++){var k={precision:1+(127&t[h]),isSigned:!!(128&t[h]),XRsiz:t[h+1],YRsiz:t[h+2]};h+=3,r(k,w),P.push(k)}s.SIZ=w,s.components=P,n(s,P),s.QCC=[],s.COC=[];break;case 65372:m=(0,o.readUint16)(t,u);var I={};switch(h=u+2,31&(p=t[h++])){case 0:v=8,g=!0;break;case 1:v=16,g=!1;break;case 2:v=16,g=!0;break;default:throw new Error("Invalid SQcd value "+p)}for(I.noQuantization=8===v,I.scalarExpounded=g,I.guardBits=p>>5,d=[];h<m+u;){var A={};8===v?(A.epsilon=t[h++]>>3,A.mu=0):(A.epsilon=t[h]>>3,A.mu=(7&t[h])<<8|t[h+1],h+=2),d.push(A)}I.SPqcds=d,s.mainHeader?s.QCD=I:(s.currentTile.QCD=I,s.currentTile.QCC=[]);break;case 65373:m=(0,o.readUint16)(t,u);var E,_={};switch(h=u+2,s.SIZ.Csiz<257?E=t[h++]:(E=(0,o.readUint16)(t,h),h+=2),31&(p=t[h++])){case 0:v=8,g=!0;break;case 1:v=16,g=!1;break;case 2:v=16,g=!0;break;default:throw new Error("Invalid SQcd value "+p)}for(_.noQuantization=8===v,_.scalarExpounded=g,_.guardBits=p>>5,d=[];h<m+u;)A={},8===v?(A.epsilon=t[h++]>>3,A.mu=0):(A.epsilon=t[h]>>3,A.mu=(7&t[h])<<8|t[h+1],h+=2),d.push(A);_.SPqcds=d,s.mainHeader?s.QCC[E]=_:s.currentTile.QCC[E]=_;break;case 65362:m=(0,o.readUint16)(t,u);var R={};h=u+2;var L=t[h++];R.entropyCoderWithCustomPrecincts=!!(1&L),R.sopMarkerUsed=!!(2&L),R.ephMarkerUsed=!!(4&L),R.progressionOrder=t[h++],R.layersCount=(0,o.readUint16)(t,h),h+=2,R.multipleComponentTransform=t[h++],R.decompositionLevelsCount=t[h++],R.xcb=2+(15&t[h++]),R.ycb=2+(15&t[h++]);var M=t[h++];if(R.selectiveArithmeticCodingBypass=!!(1&M),R.resetContextProbabilities=!!(2&M),R.terminationOnEachCodingPass=!!(4&M),R.verticallyStripe=!!(8&M),R.predictableTermination=!!(16&M),R.segmentationSymbolUsed=!!(32&M),R.reversibleTransformation=t[h++],R.entropyCoderWithCustomPrecincts){for(var D=[];h<m+u;){var B=t[h++];D.push({PPx:15&B,PPy:B>>4})}R.precinctsSizes=D}var U=[];if(R.selectiveArithmeticCodingBypass&&U.push("selectiveArithmeticCodingBypass"),R.resetContextProbabilities&&U.push("resetContextProbabilities"),R.terminationOnEachCodingPass&&U.push("terminationOnEachCodingPass"),R.verticallyStripe&&U.push("verticallyStripe"),R.predictableTermination&&U.push("predictableTermination"),U.length>0)throw c=!0,new Error("Unsupported COD options ("+U.join(", ")+")");s.mainHeader?s.COD=R:(s.currentTile.COD=R,s.currentTile.COC=[]);break;case 65424:m=(0,o.readUint16)(t,u),(y={}).index=(0,o.readUint16)(t,u+2),y.length=(0,o.readUint32)(t,u+4),y.dataEnd=y.length+u-2,y.partIndex=t[u+8],y.partsCount=t[u+9],s.mainHeader=!1,0===y.partIndex&&(y.COD=s.COD,y.COC=s.COC.slice(0),y.QCD=s.QCD,y.QCC=s.QCC.slice(0)),s.currentTile=y;break;case 65427:0===(y=s.currentTile).partIndex&&(T(s,y.index),b(s)),x(s,t,u,m=y.dataEnd-u);break;case 65365:case 65367:case 65368:case 65380:m=(0,o.readUint16)(t,u);break;case 65363:throw new Error("Codestream code 0xFF53 (COC) is not implemented");default:throw new Error("Unknown codestream code: "+f.toString(16))}u+=m}}catch(t){if(c||this.failOnCorruptedImage)throw new l(t.message);(0,i.warn)("JPX: Trying to recover from: "+t.message)}this.tiles=function(t){for(var e=t.SIZ,r=t.components,n=e.Csiz,i=[],o=0,a=t.tiles.length;o<a;o++){var s,c=t.tiles[o],u=[];for(s=0;s<n;s++)u[s]=S(t,c,s);var f,l,h,p,d,v,g,y=u[0],m=new Uint8ClampedArray(y.items.length*n),b={left:y.left,top:y.top,width:y.width,height:y.height,items:m},x=0;if(c.codingStyleDefaultParameters.multipleComponentTransform){var w=4===n,T=u[0].items,O=u[1].items,P=u[2].items,C=w?u[3].items:null;f=r[0].precision-8,l=.5+(128<<f);var k=c.components[0],I=n-3;if(p=T.length,k.codingStyleParameters.reversibleTransformation)for(h=0;h<p;h++,x+=I){d=T[h]+l,v=O[h],g=P[h];var A=d-(g+v>>2);m[x++]=A+g>>f,m[x++]=A>>f,m[x++]=A+v>>f}else for(h=0;h<p;h++,x+=I)d=T[h]+l,v=O[h],g=P[h],m[x++]=d+1.402*g>>f,m[x++]=d-.34413*v-.71414*g>>f,m[x++]=d+1.772*v>>f;if(w)for(h=0,x=3;h<p;h++,x+=4)m[x]=C[h]+l>>f}else for(s=0;s<n;s++){var E=u[s].items;for(f=r[s].precision-8,l=.5+(128<<f),x=s,h=0,p=E.length;h<p;h++)m[x]=E[h]+l>>f,x+=n}i.push(b)}return i}(s),this.width=s.SIZ.Xsiz-s.SIZ.XOsiz,this.height=s.SIZ.Ysiz-s.SIZ.YOsiz,this.componentsCount=s.SIZ.Csiz}};var O=function(){function t(t,e){var r=(0,o.log2)(Math.max(t,e))+1;this.levels=[];for(var n=0;n<r;n++){var i={width:t,height:e,items:[]};this.levels.push(i),t=Math.ceil(t/2),e=Math.ceil(e/2)}}return t.prototype={reset:function(t,e){for(var r,n=0,i=0;n<this.levels.length;){var o=t+e*(r=this.levels[n]).width;if(void 0!==r.items[o]){i=r.items[o];break}r.index=o,t>>=1,e>>=1,n++}n--,(r=this.levels[n]).items[r.index]=i,this.currentLevel=n,delete this.value},incrementValue:function(){var t=this.levels[this.currentLevel];t.items[t.index]++},nextLevel:function(){var t=this.currentLevel,e=this.levels[t],r=e.items[e.index];return--t<0?(this.value=r,!1):(this.currentLevel=t,(e=this.levels[t]).items[e.index]=r,!0)}},t}(),P=function(){function t(t,e,r){var n=(0,o.log2)(Math.max(t,e))+1;this.levels=[];for(var i=0;i<n;i++){for(var a=new Uint8Array(t*e),s=0,c=a.length;s<c;s++)a[s]=r;var u={width:t,height:e,items:a};this.levels.push(u),t=Math.ceil(t/2),e=Math.ceil(e/2)}}return t.prototype={reset:function(t,e,r){for(var n=0;n<this.levels.length;){var i=this.levels[n],o=t+e*i.width;i.index=o;var a=i.items[o];if(255===a)break;if(a>r)return this.currentLevel=n,this.propagateValues(),!1;t>>=1,e>>=1,n++}return this.currentLevel=n-1,!0},incrementValue:function(t){var e=this.levels[this.currentLevel];e.items[e.index]=t+1,this.propagateValues()},propagateValues:function(){for(var t=this.currentLevel,e=this.levels[t],r=e.items[e.index];--t>=0;)(e=this.levels[t]).items[e.index]=r},nextLevel:function(){var t=this.currentLevel,e=this.levels[t],r=e.items[e.index];return e.items[e.index]=255,!(--t<0)&&(this.currentLevel=t,(e=this.levels[t]).items[e.index]=r,!0)}},t}(),C=function(){var t=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),e=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),r=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function n(n,i,o,a,s){var c;this.width=n,this.height=i,c="HH"===o?r:"HL"===o?e:t,this.contextLabelTable=c;var u,f=n*i;this.neighborsSignificance=new Uint8Array(f),this.coefficentsSign=new Uint8Array(f),u=s>14?new Uint32Array(f):s>6?new Uint16Array(f):new Uint8Array(f),this.coefficentsMagnitude=u,this.processingFlags=new Uint8Array(f);var l=new Uint8Array(f);if(0!==a)for(var h=0;h<f;h++)l[h]=a;this.bitsDecoded=l,this.reset()}return n.prototype={setDecoder:function(t){this.decoder=t},reset:function(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6},setNeighborsSignificance:function(t,e,r){var n,i=this.neighborsSignificance,o=this.width,a=this.height,s=e>0,c=e+1<o;t>0&&(n=r-o,s&&(i[n-1]+=16),c&&(i[n+1]+=16),i[n]+=4),t+1<a&&(n=r+o,s&&(i[n-1]+=16),c&&(i[n+1]+=16),i[n]+=4),s&&(i[r-1]+=1),c&&(i[r+1]+=1),i[r]|=128},runSignificancePropagationPass:function(){for(var t=this.decoder,e=this.width,r=this.height,n=this.coefficentsMagnitude,i=this.coefficentsSign,o=this.neighborsSignificance,a=this.processingFlags,s=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,f=0;f<r;f+=4)for(var l=0;l<e;l++)for(var h=f*e+l,p=0;p<4;p++,h+=e){var d=f+p;if(d>=r)break;if(a[h]&=-2,!n[h]&&o[h]){var v=c[o[h]];if(t.readBit(s,v)){var g=this.decodeSignBit(d,l,h);i[h]=g,n[h]=1,this.setNeighborsSignificance(d,l,h),a[h]|=2}u[h]++,a[h]|=1}}},decodeSignBit:function(t,e,r){var n,i,o,a,s,c,u=this.width,f=this.height,l=this.coefficentsMagnitude,h=this.coefficentsSign;a=e>0&&0!==l[r-1],e+1<u&&0!==l[r+1]?(o=h[r+1],n=a?1-o-(i=h[r-1]):1-o-o):n=a?1-(i=h[r-1])-i:0;var p=3*n;return a=t>0&&0!==l[r-u],t+1<f&&0!==l[r+u]?(o=h[r+u],n=a?1-o-(i=h[r-u])+p:1-o-o+p):n=a?1-(i=h[r-u])-i+p:p,n>=0?(s=9+n,c=this.decoder.readBit(this.contexts,s)):(s=9-n,c=1^this.decoder.readBit(this.contexts,s)),c},runMagnitudeRefinementPass:function(){for(var t,e=this.decoder,r=this.width,n=this.height,i=this.coefficentsMagnitude,o=this.neighborsSignificance,a=this.contexts,s=this.bitsDecoded,c=this.processingFlags,u=r*n,f=4*r,l=0;l<u;l=t){t=Math.min(u,l+f);for(var h=0;h<r;h++)for(var p=l+h;p<t;p+=r)if(i[p]&&0==(1&c[p])){var d=16;if(0!=(2&c[p]))c[p]^=2,d=0===(127&o[p])?15:14;var v=e.readBit(a,d);i[p]=i[p]<<1|v,s[p]++,c[p]|=1}}},runCleanupPass:function(){for(var t,e=this.decoder,r=this.width,n=this.height,i=this.neighborsSignificance,o=this.coefficentsMagnitude,a=this.coefficentsSign,s=this.contexts,c=this.contextLabelTable,u=this.bitsDecoded,f=this.processingFlags,l=r,h=2*r,p=3*r,d=0;d<n;d=t){t=Math.min(d+4,n);for(var v=d*r,g=d+3<n,y=0;y<r;y++){var m,b=v+y,x=0,w=b,S=d;if(g&&0===f[b]&&0===f[b+l]&&0===f[b+h]&&0===f[b+p]&&0===i[b]&&0===i[b+l]&&0===i[b+h]&&0===i[b+p]){if(!e.readBit(s,18)){u[b]++,u[b+l]++,u[b+h]++,u[b+p]++;continue}0!==(x=e.readBit(s,17)<<1|e.readBit(s,17))&&(S=d+x,w+=x*r),m=this.decodeSignBit(S,y,w),a[w]=m,o[w]=1,this.setNeighborsSignificance(S,y,w),f[w]|=2,w=b;for(var T=d;T<=S;T++,w+=r)u[w]++;x++}for(S=d+x;S<t;S++,w+=r)if(!o[w]&&0==(1&f[w])){var O=c[i[w]];1===e.readBit(s,O)&&(m=this.decodeSignBit(S,y,w),a[w]=m,o[w]=1,this.setNeighborsSignificance(S,y,w),f[w]|=2),u[w]++}}}},checkSegmentationSymbol:function(){var t=this.decoder,e=this.contexts;if(10!==(t.readBit(e,17)<<3|t.readBit(e,17)<<2|t.readBit(e,17)<<1|t.readBit(e,17)))throw new l("Invalid segmentation symbol")}},n}(),k=function(){function t(){}return t.prototype.calculate=function(t,e,r){for(var n=t[0],i=1,o=t.length;i<o;i++)n=this.iterate(n,t[i],e,r);return n},t.prototype.extend=function(t,e,r){var n=e-1,i=e+1,o=e+r-2,a=e+r;t[n--]=t[i++],t[a++]=t[o--],t[n--]=t[i++],t[a++]=t[o--],t[n--]=t[i++],t[a++]=t[o--],t[n]=t[i],t[a]=t[o]},t.prototype.iterate=function(t,e,r,n){var i,o,a,s,c,u,f=t.width,l=t.height,h=t.items,p=e.width,d=e.height,v=e.items;for(a=0,i=0;i<l;i++)for(s=2*i*p,o=0;o<f;o++,a++,s+=2)v[s]=h[a];h=t.items=null;var g=new Float32Array(p+8);if(1===p){if(0!=(1&r))for(u=0,a=0;u<d;u++,a+=p)v[a]*=.5}else for(u=0,a=0;u<d;u++,a+=p)g.set(v.subarray(a,a+p),4),this.extend(g,4,p),this.filter(g,4,p),v.set(g.subarray(4,4+p),a);var y=16,m=[];for(i=0;i<y;i++)m.push(new Float32Array(d+8));var b,x=0;if(t=4+d,1===d){if(0!=(1&n))for(c=0;c<p;c++)v[c]*=.5}else for(c=0;c<p;c++){if(0===x){for(y=Math.min(p-c,y),a=c,s=4;s<t;a+=p,s++)for(b=0;b<y;b++)m[b][s]=v[a+b];x=y}var w=m[--x];if(this.extend(w,4,d),this.filter(w,4,d),0===x)for(a=c-y+1,s=4;s<t;a+=p,s++)for(b=0;b<y;b++)v[a+b]=m[b][s]}return{width:p,height:d,items:v}},t}(),I=function(){function t(){k.call(this)}return t.prototype=Object.create(k.prototype),t.prototype.filter=function(t,e,r){var n,i,o,a,s=r>>1,c=-1.586134342059924,u=-.052980118572961,f=.882911075530934,l=.443506852043971,h=1.230174104914001;for(n=(e|=0)-3,i=s+4;i--;n+=2)t[n]*=.8128930661159609;for(o=l*t[(n=e-2)-1],i=s+3;i--&&(a=l*t[n+1],t[n]=h*t[n]-o-a,i--);n+=2)o=l*t[(n+=2)+1],t[n]=h*t[n]-o-a;for(o=f*t[(n=e-1)-1],i=s+2;i--&&(a=f*t[n+1],t[n]-=o+a,i--);n+=2)o=f*t[(n+=2)+1],t[n]-=o+a;for(o=u*t[(n=e)-1],i=s+1;i--&&(a=u*t[n+1],t[n]-=o+a,i--);n+=2)o=u*t[(n+=2)+1],t[n]-=o+a;if(0!==s)for(o=c*t[(n=e+1)-1],i=s;i--&&(a=c*t[n+1],t[n]-=o+a,i--);n+=2)o=c*t[(n+=2)+1],t[n]-=o+a},t}(),A=function(){function t(){k.call(this)}return t.prototype=Object.create(k.prototype),t.prototype.filter=function(t,e,r){var n,i,o=r>>1;for(n=e|=0,i=o+1;i--;n+=2)t[n]-=t[n-1]+t[n+1]+2>>2;for(n=e+1,i=o;i--;n+=2)t[n]+=t[n-1]+t[n+1]>>1},t}();return e}();e.JpxImage=h}])}));